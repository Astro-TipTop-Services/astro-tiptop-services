"use strict";(self.webpackChunktiptop_site=self.webpackChunktiptop_site||[]).push([[4488],{686:(e,r,t)=>{t.d(r,{A:()=>i});const i=t.p+"assets/images/summary_psd_ho-3ae031727ac996d4873bfa1d80a8efa7.jpg"},4410:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"general/error_breakdown","title":"TipTop - Error Terms Coverage","description":"TipTop is an analytical AO PSF simulation tool that generates the long-exposure PSF by convolving a High-Order (HO) PSF with a Low-Order (LO) jitter kernel.","source":"@site/docs/general/error_breakdown.md","sourceDirName":"general","slug":"/general/error_breakdown","permalink":"/astro-tiptop-services/docs/general/error_breakdown","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"error_breakdown","title":"TipTop - Error Terms Coverage","sidebar_label":"TipTop - Error Terms Coverage","wip":true},"sidebar":"generalSidebar","previous":{"title":"What can TipTop be used for?","permalink":"/astro-tiptop-services/docs/general/whatcanitbeusedfor"},"next":{"title":"TipTop Installation Tutorial","permalink":"/astro-tiptop-services/docs/general/installation"}}');var s=t(4848),n=t(8453);const d={id:"error_breakdown",title:"TipTop - Error Terms Coverage",sidebar_label:"TipTop - Error Terms Coverage",wip:!0},o=void 0,l={},c=[{value:"1. HO Error Terms",id:"1-ho-error-terms",level:2},{value:"\u2714\ufe0f Fitting error",id:"\ufe0f-fitting-error",level:3},{value:"\u2714\ufe0f Aliasing error",id:"\ufe0f-aliasing-error",level:3},{value:"\u2714\ufe0f Noise Error",id:"\ufe0f-noise-error",level:3},{value:"\u2714\ufe0f Spatio-Temporal error",id:"\ufe0f-spatio-temporal-error",level:3},{value:"\u2714\ufe0f Chromatic error",id:"\ufe0f-chromatic-error",level:3},{value:"2. LO Error Terms",id:"2-lo-error-terms",level:2},{value:"\u2714\ufe0f Windshake &amp; Vibrations",id:"\ufe0f-windshake--vibrations",level:3},{value:"\u2714\ufe0f LO Tomography / Anisoplanatism",id:"\ufe0f-lo-tomography--anisoplanatism",level:3},{value:"\u2714\ufe0f Noise error",id:"\ufe0f-noise-error-1",level:3},{value:"\ud83d\udfe2 Final Jitter Kernel",id:"-final-jitter-kernel",level:3},{value:"\ud83d\udcca TipTop Error Coverage \u2014 General Overview",id:"-tiptop-error-coverage--general-overview",level:2},{value:"\ud83d\udccc Interpreting the TipTop Error Breakdown Output",id:"-interpreting-the-tiptop-error-breakdown-output",level:3},{value:"\ud83d\udccc Project-Specific Coverage Table",id:"-project-specific-coverage-table",level:2}];function a(e){const r={a:"a",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components},{Details:i}=r;return i||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{align:"justify",children:(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"TipTop"})," is an ",(0,s.jsx)(r.strong,{children:"analytical AO PSF simulation tool"})," that generates the long-exposure PSF by convolving a ",(0,s.jsx)(r.strong,{children:"High-Order (HO) PSF"})," with a ",(0,s.jsx)(r.strong,{children:"Low-Order (LO) jitter kernel"}),". ",(0,s.jsx)("br",{}),"\r\nIt covers the main AO error terms that can be expressed as spatio-temporal PSDs, but it does not include all telescope, instrumentation or calibration effects handled by a full end-to-end simulator. ",(0,s.jsx)("br",{}),"\r\nAdditional residuals can be introduced manually through the user-defined extra error terms (see the ",(0,s.jsx)(r.a,{href:"/astro-tiptop-services/docs/orion/useful_scripts",children:(0,s.jsx)(r.em,{children:"Understanding Additional Error Terms in TipTop tutorial"})}),")."]})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"1-ho-error-terms",children:"1. HO Error Terms"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)(r.p,{children:"The HO part is computed based on an estimation of the Power\r\nSpectral Density (PSD) of the the AO-corrected residual phase. This PSD is decomposed into several terms, which are assumed to be independent."})}),"\n",(0,s.jsx)("p",{align:"center",children:(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.img,{src:t(686).A+"",width:"1039",height:"354"}),"\r\n",(0,s.jsx)("small",{children:" Summary of the different PSDs used in the HO part of TIPTOP. The first one is the fitting term, followed by temporal, noise, aliasing, etc. All PSDs are then summed and converted into the HO PSF."}),(0,s.jsx)("br",{}),"\r\n",(0,s.jsx)("em",{children:(0,s.jsxs)("small",{children:["(",(0,s.jsxs)(r.em,{children:[(0,s.jsx)(r.a,{href:"https://www.spiedigitallibrary.org/conference-proceedings-of-spie/13097/130972Y/TipTop--toward-a-single-tool-for-all-ELT-instruments/10.1117/12.3015061.full",children:'source: Neichel et al., "TipTop: toward a single tool for all ELT instrument\u2019s PSF prediction", Adaptive Optics Systems IX, 2024'}),")"]})]})})]})}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("strong",{children:" \ud83d\udd3d HO Error Breakdown "})}),(0,s.jsx)(r.h3,{id:"\ufe0f-fitting-error",children:"\u2714\ufe0f Fitting error"}),(0,s.jsx)(r.p,{children:"Uncorrected high-spatial frequencies outside the AO/DM control region, i.e. above the DM cutoff set by the actuator pitch. Depends mainly on the actuator pitch and on the atmospheric seeing (through r0) at the AO reference wavelength, and is only weakly sensitive to the outer scale (L0)."}),(0,s.jsxs)(r.p,{children:["Implemented in \u2192 ",(0,s.jsx)(r.a,{href:"https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L799",children:(0,s.jsx)(r.code,{children:"fittingPSD()"})})," ",(0,s.jsx)("br",{}),"\r\nAdded to total PSD in \u2192 ",(0,s.jsx)(r.a,{href:"https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L650",children:(0,s.jsx)(r.code,{children:"powerSpectrumDensity()"})})]}),(0,s.jsx)(r.hr,{}),(0,s.jsx)(r.h3,{id:"\ufe0f-aliasing-error",children:"\u2714\ufe0f Aliasing error"}),(0,s.jsx)(r.p,{children:"High-spatial frequencies that are aliased owing to the WFS spatial sampling. Appears at lower spatial frequencies in the reconstructed phase.\r\nThe aliasing PSD is computed using a SCAO formulation and reused for all directions without explicit projection through the tomographic reconstructor or DM projector. This is an approximation, but in practice the PSF shape is weakly sensitive to it."}),(0,s.jsxs)(r.p,{children:["Implemented in \u2192 ",(0,s.jsx)(r.a,{href:"https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L808",children:(0,s.jsx)(r.code,{children:"aliasingPSD()"})}),(0,s.jsx)("br",{}),"\r\nAdded to total PSD in \u2192 ",(0,s.jsx)(r.a,{href:"https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L650",children:(0,s.jsx)(r.code,{children:"powerSpectrumDensity()"})})]}),(0,s.jsx)(r.hr,{}),(0,s.jsx)(r.h3,{id:"\ufe0f-noise-error",children:"\u2714\ufe0f Noise Error"}),(0,s.jsxs)(r.p,{children:["Noise introduced by the WFS (detector, shot noise, background) that creates a signal that propagates\r\nthrough the AO loop and affects the PSF. he model accounts for the (tomographic) wavefront reconstruc-\r\ntion and the AO loop temporal model. ",(0,s.jsx)("br",{}),"\r\nThe noise variance is either computed from WFS characteristics or provided directly by the user (",(0,s.jsxs)(r.a,{href:"https://astro-tiptop-services.github.io/astro-tiptop-services/docs/orion/parameterfiles#sensor_HO",children:[(0,s.jsx)(r.code,{children:"sensor_HO.NoiseVariance"})," parameter"]}),")."]}),(0,s.jsxs)(r.p,{children:["Implemented in \u2192 ",(0,s.jsx)(r.a,{href:"https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L909",children:(0,s.jsx)(r.code,{children:"noisePSD()"})})]}),(0,s.jsx)(r.hr,{}),(0,s.jsx)(r.h3,{id:"\ufe0f-spatio-temporal-error",children:"\u2714\ufe0f Spatio-Temporal error"}),(0,s.jsxs)(r.p,{children:["Refers to the spatial error (wavefront reconstruction, tomography, SCAO anisoplanatism, DM projections,\r\nLGS cone effect, MCAO LGS volume loss) that is combined with the temporal error (loop bandwidth, delays)\r\ninto a single term.",(0,s.jsx)("br",{}),"\r\nThe user must\r\ndefine the positions and altitude (for LGSs) of guide stars, as well as the altitude conjugations/actuators\r\npitch of the DM and the optimization directions. The tomographic error is calculated in the context of\r\npseudo-open-loop command (POLC) and Minimum Mean Square Reconstruction (MMSE) only."]}),(0,s.jsxs)(r.p,{children:["All applied inside ",(0,s.jsx)(r.a,{href:"https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L650",children:(0,s.jsx)(r.code,{children:"powerSpectrumDensity()"})})," before summation. ",(0,s.jsx)("br",{}),"\r\n",(0,s.jsxs)(r.em,{children:[(0,s.jsx)(r.strong,{children:"TipTop"})," does not output a separate \u201ctomography term\u201d in HO breakdown (it only exists inside the spatio-temporal PSD)."]})]}),(0,s.jsx)(r.hr,{}),(0,s.jsx)(r.h3,{id:"\ufe0f-chromatic-error",children:"\u2714\ufe0f Chromatic error"}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"TipTop"})," considers two PSD terms related to wavelength dependence:"]}),(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Chromatism"}),(0,s.jsx)(r.br,{}),"\n","Models the phase error due to the refractive-index difference between: (1) WFS/GS wavelength, and (2) science PSF wavelength. ",(0,s.jsx)("br",{}),"\r\nImplemented in \u2192 ",(0,s.jsx)(r.a,{href:"https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L1128C9-L1128C22",children:(0,s.jsx)(r.code,{children:"chromatismPSD()"})})]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Differential atmospheric refraction"}),(0,s.jsx)(r.br,{}),"\n","Anisoplanatic-like PSD arising when science and guide stars are observed at different wavelengths and zenith angles. ",(0,s.jsx)("br",{}),"\r\nImplemented in \u2192 ",(0,s.jsx)(r.a,{href:"https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L1077",children:(0,s.jsx)(r.code,{children:"differentialRefractionPSD()"})})]}),"\n"]}),"\n"]}),(0,s.jsx)(r.p,{children:"Both are added to the HO PSD only when the configuration activates them."})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"2-lo-error-terms",children:"2. LO Error Terms"}),"\n",(0,s.jsx)("p",{align:"justify",children:(0,s.jsxs)(r.p,{children:["The LO module follows the method of ",(0,s.jsx)(r.a,{href:"https://doi.org/10.1117/12.2313175",children:(0,s.jsx)(r.em,{children:"Plantet et al. 2018"})}),".\r\nIt computes a ",(0,s.jsx)(r.strong,{children:"jitter variance"}),", converts it into a ",(0,s.jsx)(r.strong,{children:"Gaussian kernel"}),", and ",(0,s.jsx)(r.strong,{children:"convolves it with the High-Order PSF"})," to produce the final PSF delivred to the user. ",(0,s.jsx)("br",{}),"\r\nThe residual jitter is considered as the quadratic sum of 3 independent terms: ",(0,s.jsx)(r.strong,{children:"(1) Windshake and vibrations"}),", ",(0,s.jsx)(r.strong,{children:"(2) Tomographic error for multi-NGS or off-axis NGS AO systems"})," and ",(0,s.jsx)(r.strong,{children:"(3) Noise propagation"}),"."]})}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("strong",{children:" \ud83d\udd3d LO Error Breakdown "})}),(0,s.jsx)(r.h3,{id:"\ufe0f-windshake--vibrations",children:"\u2714\ufe0f Windshake & Vibrations"}),(0,s.jsx)("p",{align:"justify",children:(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"TipTop"})," can ingest a PSD of tip/tilt disturbances due to wind shake/vibration (see (",(0,s.jsx)(r.a,{href:"https://astro-tiptop-services.github.io/astro-tiptop-services/docs/orion/parameterfiles#telescope",children:(0,s.jsx)(r.code,{children:"telescope.windPsdFile"})})," parameter)). These disturbances are filtered by the closed-loop transfer function. ",(0,s.jsx)("br",{})," If no vibration file is provided, the vibration term is set to zero (Absence of vibration input \u21d2 0 nm residuals)."]})}),(0,s.jsx)(r.hr,{}),(0,s.jsx)(r.h3,{id:"\ufe0f-lo-tomography--anisoplanatism",children:"\u2714\ufe0f LO Tomography / Anisoplanatism"}),(0,s.jsx)("p",{align:"justify",children:(0,s.jsx)(r.p,{children:"When multiple NGS are used for tip\u2013tilt sensing, their geometry leads to a tomographic reconstruction error on tip\u2013tilt modes. This residual corresponds to the difference between the turbulence seen by the NGS and the science target. For a single NGS, the residual jitter becomes the classical anisoplanatism error."})}),(0,s.jsx)(r.hr,{}),(0,s.jsx)(r.h3,{id:"\ufe0f-noise-error-1",children:"\u2714\ufe0f Noise error"}),(0,s.jsx)("p",{align:"justify",children:(0,s.jsxs)(r.p,{children:["The noise error corresponds to the propagation of the NGS sensors\u2019 noise (photon noise, detector noise. . . ) through the LO loop.\r\n",(0,s.jsx)(r.strong,{children:"TipTop"})," estimates the noise contribution from each NGS using the actual PSF quality predicted at the NGS location, derived from the HO residuals. The PSF is converted into a slope error using a Gaussian spot model (",(0,s.jsx)(r.a,{href:"https://doi.org/10.1117/12.2313175",children:(0,s.jsx)(r.em,{children:"Plantet et al. 2018"})}),"), and propagated through an integrator loop, whose gains are automatically optimized.\r\nFor a single NGS, this filtered noise is used directly; for multiple NGS, the noise is first propagated through the tomographic reconstructor. ",(0,s.jsx)("br",{})]})}),(0,s.jsx)(r.hr,{}),(0,s.jsx)(r.h3,{id:"-final-jitter-kernel",children:"\ud83d\udfe2 Final Jitter Kernel"}),(0,s.jsx)("p",{align:"justify",children:(0,s.jsxs)(r.p,{children:["After summing windshake, tomographic error, and propagated noise, ",(0,s.jsx)(r.strong,{children:"TipTop"})," converts the total Tip-Tilt variance into a Gaussian kernel (circular or elliptical based on the covariance). This kernel is expressed in milliarcseconds (FWHM), and it is ",(0,s.jsx)(r.strong,{children:"convolved with the HO PSF"})," (in ",(0,s.jsx)(r.a,{href:"https://github.com/astro-tiptop/TIPTOP/blob/d5cceb2d215e81004218b67bca10b6ef87dc8b92/tiptop/baseSimulation.py#L530C5-L530C9",children:(0,s.jsx)(r.code,{children:"tiptop.baseSimulation.finalConvolution()"})}),") to produce the ",(0,s.jsx)(r.strong,{children:"final AO PSF"})," delivered to the user."]})})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"-tiptop-error-coverage--general-overview",children:"\ud83d\udcca TipTop Error Coverage \u2014 General Overview"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Category"}),(0,s.jsx)(r.th,{children:"Error Source"}),(0,s.jsx)(r.th,{children:"TipTop?"}),(0,s.jsx)(r.th,{children:"Notes"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"HO"})}),(0,s.jsx)(r.td,{children:"DM Fitting"}),(0,s.jsx)(r.td,{children:"\u2714\ufe0f"}),(0,s.jsx)(r.td,{children:"HF fitting included in same PSD"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Aliasing"}),(0,s.jsx)(r.td,{children:"\u2714\ufe0f Approx."}),(0,s.jsx)(r.td,{children:"SCAO formula reused"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"WFS Noise"}),(0,s.jsx)(r.td,{children:"\u2714\ufe0f"}),(0,s.jsx)(r.td,{children:"Propagated through reconstructor + controller"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Spatio-Temporal Reconstruction"}),(0,s.jsx)(r.td,{children:"\u2714\ufe0f"}),(0,s.jsx)(r.td,{children:"MMSE/POLC + controller filtering"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Chromatism"}),(0,s.jsx)(r.td,{children:"\u2714\ufe0f"}),(0,s.jsx)(r.td,{children:"WFS/science \u03bb refractive index mismatch"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Differential Refraction"}),(0,s.jsx)(r.td,{children:"\u2714\ufe0f"}),(0,s.jsx)(r.td,{children:"Wavelength + zenith angle anisoplanatism"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Cone Effect"}),(0,s.jsx)(r.td,{children:"\u2714\ufe0f"}),(0,s.jsx)(r.td,{children:"Layer stretching + volume loss PSD"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"LGS cone effect / MCAO volume"}),(0,s.jsx)(r.td,{children:"\u2714\ufe0f"}),(0,s.jsx)(r.td,{children:"Dedicated PSD"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Telescope / Instrument Static"}),(0,s.jsx)(r.td,{children:"\u2699\ufe0f User"}),(0,s.jsx)(r.td,{children:"If user supplies static OTF/OPD maps"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Extra PSD"}),(0,s.jsx)(r.td,{children:"\u2699\ufe0f User"}),(0,s.jsxs)(r.td,{children:["Via optional ",(0,s.jsx)(r.a,{href:"/astro-tiptop-services/docs/orion/useful_scripts",children:(0,s.jsx)(r.strong,{children:"extra error parameters"})})]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"LO"})}),(0,s.jsx)(r.td,{children:"Windshake & vibrations"}),(0,s.jsx)(r.td,{children:"\u2699\ufe0f Optional"}),(0,s.jsxs)(r.td,{children:["Requires PSD file (",(0,s.jsx)(r.a,{href:"/astro-tiptop-services/docs/orion/parameterfiles",children:(0,s.jsx)(r.code,{children:"telescope.windPsdFile"})}),")"]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Noise Propagation"}),(0,s.jsx)(r.td,{children:"\u2714\ufe0f"}),(0,s.jsx)(r.td,{children:"Noise estimated using PSF from HO"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Tomography"}),(0,s.jsx)(r.td,{children:"\u2714\ufe0f"}),(0,s.jsx)(r.td,{children:"Reduces to anisoplanatism if single NGS"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Extra Jitter"}),(0,s.jsx)(r.td,{children:"\u2699\ufe0f User"}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.a,{href:"/astro-tiptop-services/docs/orion/useful_scripts",children:(0,s.jsx)(r.code,{children:"jitter_FWHM"})})," manual input in ",(0,s.jsx)(r.em,{children:"mas"}),", convolved as a kernel"]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Not included"})}),(0,s.jsx)(r.td,{children:"Dome Seeing"}),(0,s.jsx)(r.td,{children:"\u274c"}),(0,s.jsx)(r.td,{children:"Not modeled"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Low-Wind effect"}),(0,s.jsx)(r.td,{children:"\u274c"}),(0,s.jsx)(r.td,{children:"Not modeled"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"WFS spot truncation"}),(0,s.jsx)(r.td,{children:"\u274c"}),(0,s.jsx)(r.td,{children:"No elongated sodium truncation"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Sodium profile variability"}),(0,s.jsx)(r.td,{children:"\u274c"}),(0,s.jsx)(r.td,{children:"Fixed sodium profile"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Post-focal DM Vibrations"}),(0,s.jsx)(r.td,{children:"\u274c"}),(0,s.jsx)(r.td,{children:"Telescope vibration only"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Calibration errors (misregistration, RTC updates)"}),(0,s.jsx)(r.td,{children:"\u274c"}),(0,s.jsx)(r.td,{children:"No engineering calibration"})]})]})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"-interpreting-the-tiptop-error-breakdown-output",children:"\ud83d\udccc Interpreting the TipTop Error Breakdown Output"}),"\n",(0,s.jsxs)(r.p,{children:["When a TipTop simulation finishes, if the key word ",(0,s.jsx)(r.a,{href:"/docs/orion/howtosetuplaunchfile#overallSimulation",children:(0,s.jsx)(r.code,{children:"getHoErrorBreakDown"})})," is set to ",(0,s.jsx)(r.code,{children:"True"}),", the console prints a detailed wavefront error budget.\r\nEach line corresponds to a specific term of the HO or LO model we described earlier."]}),"\n",(0,s.jsx)(r.p,{children:"\ud83e\udde9 Meaning of Each Term"}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("strong",{children:" \ud83d\udd3d Expand Table "})}),(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Breakdown Line"}),(0,s.jsx)(r.th,{children:"Meaning"}),(0,s.jsx)(r.th,{children:"Model Source"}),(0,s.jsx)(r.th,{children:"Type"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Mar\xe9chal Strehl"})}),(0,s.jsx)(r.td,{children:"Strehl computed using the Mar\xe9chal approximation at science \u03bb"}),(0,s.jsx)(r.td,{children:"Uses total WFE"}),(0,s.jsx)(r.td,{children:"Output metric"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Residual wavefront error"})}),(0,s.jsx)(r.td,{children:"Quadratic sum of all HO + LO residuals in nm"}),(0,s.jsx)(r.td,{children:"After HO+LO modeling"}),(0,s.jsx)(r.td,{children:"Total"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"NCPA residual"})}),(0,s.jsxs)(r.td,{children:["Static uncorrected aberration provided by user (",(0,s.jsx)(r.a,{href:"/astro-tiptop-services/docs/orion/useful_scripts",children:(0,s.jsx)(r.code,{children:"zCoefStaticOn"})})," or OPD map)"]}),(0,s.jsx)(r.td,{children:"Added as static OTF/OPD"}),(0,s.jsx)(r.td,{children:"Static (user-specified)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Fitting error"})}),(0,s.jsx)(r.td,{children:"DM cutoff (uncontrolled HF turbulence)"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L799",children:(0,s.jsx)(r.code,{children:"fittingPSD()"})})}),(0,s.jsx)(r.td,{children:"HO"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Differential refraction"})}),(0,s.jsx)(r.td,{children:"Chromatic anisoplanatism (different \u03bb, zenith angle)"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L1077",children:(0,s.jsx)(r.code,{children:"differentialRefractionPSD()"})})}),(0,s.jsx)(r.td,{children:"HO"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Chromatic error"})}),(0,s.jsx)(r.td,{children:"Refractive index mismatch between WFS and science wavelengths"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L1128C9-L1128C22",children:(0,s.jsx)(r.code,{children:"chromatismPSD()"})})}),(0,s.jsx)(r.td,{children:"HO"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Aliasing error"})}),(0,s.jsx)(r.td,{children:"High frequencies folded by WFS sampling"}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.a,{href:"https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L808",children:(0,s.jsx)(r.code,{children:"aliasingPSD()"})})," (SCAO approximation)"]}),(0,s.jsx)(r.td,{children:"HO"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Noise error"})}),(0,s.jsx)(r.td,{children:"Photon + detector noise propagated through reconstructor + controller"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L909",children:(0,s.jsx)(r.code,{children:"noisePSD()"})})}),(0,s.jsx)(r.td,{children:"HO"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Spatio-temporal error"})}),(0,s.jsx)(r.td,{children:"Combined reconstruction + servo filtering (tomography + lag)"}),(0,s.jsxs)(r.td,{children:["Inside ",(0,s.jsx)(r.a,{href:"https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L650",children:(0,s.jsx)(r.code,{children:"powerSpectrumDensity()"})})]}),(0,s.jsx)(r.td,{children:"HO"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Mcao Cone"})}),(0,s.jsx)(r.td,{children:"MCAO LGS volume loss term"}),(0,s.jsx)(r.td,{children:"Automatic in MCAO mode"}),(0,s.jsx)(r.td,{children:"HO"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Extra error"})}),(0,s.jsx)(r.td,{children:"User extra PSD added to HO halo"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/astro-tiptop-services/docs/orion/useful_scripts",children:(0,s.jsx)(r.code,{children:"extraError*"})})}),(0,s.jsx)(r.td,{children:"HO (user)"})]})]})]}),(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Bottom lines"}),(0,s.jsx)(r.th,{children:"Meaning"}),(0,s.jsx)(r.th,{children:"Notes"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Sole servoLag error"})}),(0,s.jsx)(r.td,{children:"Temporal part ONLY of HO error (ideal infinite reconstructor)"}),(0,s.jsx)(r.td,{children:"Helps tune controller"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Sole reconstruction error"})}),(0,s.jsx)(r.td,{children:"Pure spatial tomography ONLY (no controller effect)"}),(0,s.jsx)(r.td,{children:"Useful for reconstructor performance"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Sole tomographic error"})}),(0,s.jsxs)(r.td,{children:["MCAO/NGS/LGS geometry + reconstructor ",(0,s.jsx)(r.em,{children:"without lag or noise"})]}),(0,s.jsx)(r.td,{children:"Matches Plantet et al. \u201cpure tomography\u201d"})]})]})]}),(0,s.jsx)(r.p,{children:(0,s.jsx)(r.em,{children:(0,s.jsx)(r.em,{children:"The \u201cSole \u2026\u201d diagnostic lines are not added to the total wavefront error. They are isolated components useful for AO tuning and performance analysis."})})})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.p,{children:"\ud83d\udea7 This page is currently being updated."}),"\n",(0,s.jsxs)(i,{style:{display:"none"},children:[(0,s.jsx)(r.h2,{id:"-project-specific-coverage-table",children:"\ud83d\udccc Project-Specific Coverage Table"}),(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("strong",{children:" \ud83d\udd3d Expand Table "})}),(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Category"}),(0,s.jsx)(r.th,{children:"Error Source"}),(0,s.jsx)(r.th,{children:"In TipTop?"}),(0,s.jsx)(r.th,{children:"Notes"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"High Orders"})}),(0,s.jsx)(r.td,{children:"Tomographic error"}),(0,s.jsx)(r.td,{children:"\u2705"}),(0,s.jsx)(r.td,{children:"MMSE/POLC, cone effect, DM projection"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Generalized fitting error"}),(0,s.jsx)(r.td,{children:"\u2705"}),(0,s.jsx)(r.td,{children:"DM fitting PSD"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"HF fitting error"}),(0,s.jsx)(r.td,{children:"\u26a0\ufe0f Partial"}),(0,s.jsx)(r.td,{children:"Absorbed in fitting term"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Measurement noise error"}),(0,s.jsx)(r.td,{children:"\u2705"}),(0,s.jsx)(r.td,{children:"WFS noise PSD + controller filtering"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Temporal error"}),(0,s.jsx)(r.td,{children:"\u2705"}),(0,s.jsx)(r.td,{children:"Servo-lag / bandwidth in controller"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Reference Loop"})}),(0,s.jsx)(r.td,{children:"Correction residual"}),(0,s.jsx)(r.td,{children:"\u2705"}),(0,s.jsx)(r.td,{children:"Combination of fitting + temporal + noise + aliasing."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Truncation error"}),(0,s.jsx)(r.td,{children:"\u274c"}),(0,s.jsx)(r.td,{children:"WFS spot truncation (elongated sodium) not modeled."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Sodium Profile Variations"}),(0,s.jsx)(r.td,{children:"\u274c"}),(0,s.jsx)(r.td,{children:"Not included; assumes fixed sodium profile."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Propagation of atmospheric disturbances"}),(0,s.jsx)(r.td,{children:"\u2705"}),(0,s.jsx)(r.td,{children:"Via tomography model"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Non common field aberrations"}),(0,s.jsx)(r.td,{children:"\u26a0\ufe0f Partial"}),(0,s.jsx)(r.td,{children:"Can be added manually via static OTF"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"MORFEO relay"})}),(0,s.jsx)(r.td,{children:"Design, Manufacturing, Alignment of PFRO"}),(0,s.jsx)(r.td,{children:"\u274c"}),(0,s.jsx)(r.td,{children:"Instrument-specific"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Optical effects of air in the PFRO"}),(0,s.jsx)(r.td,{children:"\u274c"}),(0,s.jsx)(r.td,{children:"Not included."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Fitting error on DM1"}),(0,s.jsx)(r.td,{children:"\u2705 Included"}),(0,s.jsx)(r.td,{children:"Treated via actuator pitch"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Fitting error on DM2"}),(0,s.jsx)(r.td,{children:"\u2705 Included"}),(0,s.jsx)(r.td,{children:"Same as above."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Vibrations of post focal DMs"}),(0,s.jsx)(r.td,{children:"\u274c Not included"}),(0,s.jsx)(r.td,{children:"Not modeled (only telescope windshake)."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Calibration errors"})}),(0,s.jsx)(r.td,{children:"Actuators / sub-apertures mismatch"}),(0,s.jsx)(r.td,{children:"\u274c Not included"}),(0,s.jsx)(r.td,{children:"Not explicitly included."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Periodic update of RTC control matrices"}),(0,s.jsx)(r.td,{children:"\u274c Not included"}),(0,s.jsx)(r.td,{children:"Not modeled."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Telescope"})}),(0,s.jsx)(r.td,{children:"Residual HO Telescope (M1 & M2)"}),(0,s.jsx)(r.td,{children:"\u26a0\ufe0f Partial"}),(0,s.jsx)(r.td,{children:"Can be included as static OTF (if provided)."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Telescope dome seeing residual"}),(0,s.jsx)(r.td,{children:"\u274c Not included"}),(0,s.jsx)(r.td,{children:"Not included."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Low-Wind Effect"}),(0,s.jsx)(r.td,{children:"\u274c Not included"}),(0,s.jsx)(r.td,{children:"Not modeled."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Telescope Off-Axis aberrations"}),(0,s.jsx)(r.td,{children:"\u26a0\ufe0f Partial"}),(0,s.jsx)(r.td,{children:"Possible via static OTF if maps supplied."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Low Orders"})}),(0,s.jsx)(r.td,{children:"Residual Windshake"}),(0,s.jsx)(r.td,{children:"\u2705 Included"}),(0,s.jsx)(r.td,{children:"Modeled in LO kernel via vibration PSD + controller."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Tomographic error"}),(0,s.jsx)(r.td,{children:"\u2705 Included"}),(0,s.jsx)(r.td,{children:"LO tomography, reduces to Tip-Tilt anisoplanatism if single NGS."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Temporal + Measurement noise error"}),(0,s.jsx)(r.td,{children:"\u2705 Included"}),(0,s.jsx)(r.td,{children:"Tip-Tilt noise propagated through loop."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Field average focus"})}),(0,s.jsx)(r.td,{children:"Temporal + Measurement noise error"}),(0,s.jsx)(r.td,{children:"\u26a0\ufe0f Partial"}),(0,s.jsx)(r.td,{children:"Focus variations across field not explicitly separated; Not isolated; some contribution in LO error budgets."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Anisoplanatism error"}),(0,s.jsx)(r.td,{children:"\u2705 Included"}),(0,s.jsx)(r.td,{children:"Covered by LO tomography."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Telescope"}),(0,s.jsx)(r.td,{children:"\u26a0\ufe0f Partial"}),(0,s.jsx)(r.td,{children:"Jitter kernel includes telescope vibration; no dome seeing."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Other errors"})}),(0,s.jsx)(r.td,{children:"Atmospheric Chromatism"}),(0,s.jsx)(r.td,{children:"\u2705 Included"}),(0,s.jsx)(r.td,{children:"Explicit PSD term in HO."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Rayleigh scattering"}),(0,s.jsx)(r.td,{children:"\u274c Not included"}),(0,s.jsx)(r.td,{children:"Not modeled."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Non-modelled errors"}),(0,s.jsx)(r.td,{children:"\u274c Not included"}),(0,s.jsx)(r.td,{children:"By definition."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Contingency"}),(0,s.jsx)(r.td,{children:"\u274c Not included"}),(0,s.jsx)(r.td,{children:"By definition."})]})]})]}),(0,s.jsxs)(r.p,{children:["\u2705 Included \u2192 TIPTOP computes it. ",(0,s.jsx)("br",{}),"\r\n\u26a0\ufe0f Partial \u2192 only if user provides static inputs, or absorbed in another term.",(0,s.jsx)("br",{})]})]})]})]})}function h(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,r,t)=>{t.d(r,{R:()=>d,x:()=>o});var i=t(6540);const s={},n=i.createContext(s);function d(e){const r=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(n.Provider,{value:r},e.children)}}}]);