"use strict";(self.webpackChunktiptop_site=self.webpackChunktiptop_site||[]).push([[9252],{8394:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>_,contentTitle:()=>x,default:()=>f,frontMatter:()=>g,metadata:()=>s,toc:()=>O});const s=JSON.parse('{"id":"orion/interactivetools","title":"Interactive tools \u2013 Generate Input Files & Convert Parameters","description":"Generate Input Files","source":"@site/docs/orion/Interactive_tools.mdx","sourceDirName":"orion","slug":"/orion/interactivetools","permalink":"/astro-tiptop-services/docs/orion/interactivetools","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"interactivetools","title":"Interactive tools \u2013 Generate Input Files & Convert Parameters","sidebar_label":"Interactive tools \u2013 Generate Input Files & Convert Parameters"},"sidebar":"tipTopSidebar","previous":{"title":"Available AO instruments","permalink":"/astro-tiptop-services/docs/orion/aoinstruments"},"next":{"title":"Parameter files explained","permalink":"/astro-tiptop-services/docs/orion/parameterfiles"}}');var r=n(4848),i=n(8453),o=n(6540);const a={ERIS_SCAO_NGS:{telescope:{TelescopeDiameter:8,ZenithAngle:30,ObscurationRatio:.16,Resolution:128,TechnicalFoV:120},atmosphere:{Wavelength:5e-7,Seeing:.8,L0:22,Cn2Weights:"[0.59, 0.02, 0.04, 0.06, 0.01, 0.05, 0.09, 0.04, 0.05, 0.05]",Cn2Heights:"[30, 140, 281, 562, 1125, 2250, 4500, 7750, 11000, 14000]",WindSpeed:"[6.6, 5.9, 5.1, 4.5, 5.1, 8.3, 16.3, 10.2, 14.3, 17.5]",WindDirection:"[0., 0., 0., 0., 90., -90., -90., 90., 0., 0.]",r0_Value:0,testWindspeed:0},sources_science:{Wavelength:"[1.650e-06]",Zenith:"[0.0]",Azimuth:"[0.0]"},sources_HO:{Wavelength:"[750e-9]",Zenith:"[0.0]",Azimuth:"[0.0]",Height:0},sensor_science:{PixelScale:14,FieldOfView:256},sensor_HO:{WfsType:"Shack-Hartmann",Modulation:"None",PixelScale:832,FieldOfView:6,Binning:1,NumberPhotons:"[100.0]",SigmaRON:.2,ExcessNoiseFactor:2,Algorithm:"wcog",NumberLenslets:"[40]",NoiseVariance:"[None]"},DM:{NumberActuators:"[40]",DmPitchs:"[0.2]",DmHeights:"[0.0]",AoArea:"circle"},RTC:{LoopGain_HO:.3,SensorFrameRate_HO:1e3,LoopDelaySteps_HO:3}},ERIS_SCAO_LGS:{telescope:{TelescopeDiameter:8,ZenithAngle:30,ObscurationRatio:.16,Resolution:128,TechnicalFoV:120},atmosphere:{Wavelength:5e-7,Seeing:.8,L0:22,Cn2Weights:"[0.59, 0.02, 0.04, 0.06, 0.01, 0.05, 0.09, 0.04, 0.05, 0.05]",Cn2Heights:"[30, 140, 281, 562, 1125, 2250, 4500, 7750, 11000, 14000]",WindSpeed:"[6.6, 5.9, 5.1, 4.5, 5.1, 8.3, 16.3, 10.2, 14.3, 17.5]",WindDirection:"[0., 0., 0., 0., 90., -90., -90., 90., 0., 0.]",r0_Value:0,testWindspeed:0},sources_science:{Wavelength:"[1.650e-06]",Zenith:"[0.0]",Azimuth:"[0.0]"},sources_HO:{Wavelength:"[589e-9]",Zenith:"[0.0]",Azimuth:"[0.0]",Height:9e4},sources_LO:{Wavelength:"[750e-09]",Zenith:"[0.0]",Azimuth:"[0.0]"},sensor_science:{PixelScale:14,FieldOfView:256},sensor_HO:{WfsType:"Shack-Hartmann",Modulation:"None",PixelScale:832,FieldOfView:6,Binning:1,NumberPhotons:"[100.0]",SigmaRON:.2,ExcessNoiseFactor:2,Algorithm:"cog",NumberLenslets:"[40]",NoiseVariance:"[None]"},sensor_LO:{WfsType:"Shack-Hartmann",Modulation:"None",PixelScale:417,FieldOfView:48,Binning:1,NumberPhotons:"[100.0]",SigmaRON:.2,Dark:0,SkyBackground:0,ExcessNoiseFactor:2,NumberLenslets:"[4]",NoiseVariance:"[None]",WindowRadiusWCoG:6,ThresholdWCoG:0,NewValueThrPix:0},DM:{NumberActuators:"[40]",DmPitchs:"[0.2]",DmHeights:"[0.0]",AoArea:"circle"},RTC:{LoopGain_HO:.3,LoopGain_LO:"optimize",SensorFrameRate_HO:1e3,LoopDelaySteps_HO:3,SensorFrameRate_LO:500,LoopDelaySteps_LO:2}}},l={atmosphere:{Seeing:"number"},sensor_HO:{NumberPhotons:"text"},sensor_LO:{NumberPhotons:"text"}},c={ERIS_SCAO_NGS:"SCAO_NGS",ERIS_SCAO_LGS:"SCAO_LGS"},u=e=>{const t=1e6*e;return t>=.398&&t<.492?124e8:t>=.507&&t<.595?837e7:t>=.589&&t<.727?136e8:t>=.731&&t<.881?893e7:t>=1.17&&t<1.33?411e7:t>=1.505&&t<1.795?287e7:t>=2.03&&t<2.37?17e8:null},h=e=>{const t=1e6*e;return t>=.398&&t<.492?.07:t>=.507&&t<.595?.16:t>=.589&&t<.727?.19:t>=.731&&t<.881?.2:t>=1.17&&t<1.33?.24:t>=1.505&&t<1.795?.264:t>=2.03&&t<2.37?.26:null},m=e=>{const t=1e6*e;return t>=.398&&t<.492?"B":t>=.507&&t<.595?"V":t>=.589&&t<.727?"R":t>=.731&&t<.881?"I":t>=1.17&&t<1.33?"J":t>=1.505&&t<1.795?"H":t>=2.03&&t<2.37?"K":"Unknown"},p={J:128e-8,H:166e-8,K:218e-8,L:332e-8};function d(){const[e,t]=(0,o.useState)("ERIS_SCAO_NGS"),[n,s]=(0,o.useState)({...a.ERIS_SCAO_NGS}),[i,d]=(0,o.useState)(""),[g,x]=(0,o.useState)(""),[_,O]=(0,o.useState)(null),v=`config_${c[e]||e}.ini`,f=c[e],b=(e,t,n)=>{s((s=>({...s,[e]:{...s[e],[t]:n}})))},S=e=>{try{if(!e||isNaN(e))return"[0]";let t="sensor_HO",s="sources_HO",r="SensorFrameRate_HO";"SCAO_LGS"===f&&(t="sensor_LO",s="sources_LO",r="SensorFrameRate_LO");const i=Number(n.telescope.TelescopeDiameter),o=Number(n.telescope.ObscurationRatio);let a=n[t]?.NumberLenslets,l=20;if("string"==typeof a&&""!==a.trim()){const e=a.replace(/[\[\]]/g,"").split(",")[0],t=Number(e);!isNaN(t)&&t>0&&(l=t)}else"number"==typeof a&&a>0&&(l=a);const c=Number(n.RTC?.[r])||1e3;let p=n[s]?.Wavelength,d=0;if(d=Number("string"==typeof p?p.replace(/[\[\]]/g,""):p),!(i&&l&&c&&d))return"[0]";const g=u(d),x=h(d);if(!g||!x)return console.warn("missing values: ",{F0:g,Tot_throughput:x}),"[0]";const _=m(d),O={B:1.37,V:0,R:-1.26,I:-2.15,J:-2.49,H:-3.03,K:-3.29},v=Math.round(100*(e+(O[_]??0)))/100;return`[${(g*(x/c)*(Math.pow(i,2)-Math.pow(i*o,2))*Math.pow(1/l,2)*Math.pow(10,-.4*v)).toFixed(2)}]`}catch{return"[0]"}},j=e=>{if(x(e),!e||isNaN(e)){return void b("SCAO_LGS"===f?"sensor_LO":"sensor_HO","NumberPhotons","[0]")}const t=S(Number(e));b("SCAO_LGS"===f?"sensor_LO":"sensor_HO","NumberPhotons",t)},[y,N]=(0,o.useState)("");(0,o.useEffect)((()=>{if(!i)return;const e=new Blob([i],{type:"text/plain"}),t=URL.createObjectURL(e);return O(t),()=>{URL.revokeObjectURL(t)}}),[i]);return(0,o.useEffect)((()=>{if(!g||isNaN(g))return;const e=S(Number(g));b("SCAO_LGS"===f?"sensor_LO":"sensor_HO","NumberPhotons",e)}),[n.sources_HO?.Wavelength,n.sources_LO?.Wavelength,g,f]),(0,r.jsxs)("div",{style:{border:"1px solid #ccc",padding:16,margin:"20px 0"},children:[(0,r.jsxs)("h3",{children:[" .ini Parameter File Generator - ",(0,r.jsx)("a",{href:"/docs/orion/AO_instruments",children:"For Available AO Instruments"})]}),(0,r.jsxs)("label",{children:["Select instrument:\xa0",(0,r.jsx)("select",{value:e,onChange:e=>{const n=e.target.value;t(n),s({...a[n]}),x("")},style:{marginLeft:10},children:Object.keys(a).map((e=>(0,r.jsx)("option",{value:e,children:e},e)))})]}),"SCAO_NGS"===f&&(0,r.jsxs)("div",{style:{marginTop:16,marginBottom:16,fontWeight:"bold"},children:["NGS only system \u2734\ufe0f ",(0,r.jsx)("br",{})," HO part: Science - NGS"]}),"SCAO_LGS"===f&&(0,r.jsxs)("div",{style:{marginTop:16,marginBottom:10,fontWeight:"bold"},children:["HO part: Science - LGS \u2733\ufe0f ",(0,r.jsx)("br",{})," LO part: NGS \u2734\ufe0f"]}),(0,r.jsx)("hr",{}),(0,r.jsxs)("div",{style:{marginBottom:16},children:[(0,r.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,r.jsx)("strong",{children:"[telescope]"})," "]}),(0,r.jsxs)("label",{children:["Zenith Angle (degree):\xa0",(0,r.jsx)("input",{type:"number",value:n.telescope.ZenithAngle,step:"0.1",onChange:e=>{const t=parseFloat(e.target.value);!isNaN(t)&&t>0&&t<90&&b("telescope","ZenithAngle",t)},style:{marginLeft:10}}),(0,r.jsx)("span",{style:{marginLeft:"12px",fontSize:"0.9rem",color:"#555"},children:"\u2139\ufe0f the angle between the telescope's pointing direction and the zenith"})]})]}),(0,r.jsxs)("div",{style:{marginBottom:16},children:[(0,r.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,r.jsx)("strong",{children:"[sources_science]"})," "]}),(0,r.jsxs)("label",{children:["Seeing (arcsec):\xa0",(0,r.jsx)("input",{type:"number",value:n.atmosphere.Seeing,step:"0.01",onChange:e=>{const t=parseFloat(e.target.value);!isNaN(t)&&t>.19&&t<5.01&&b("atmosphere","Seeing",t)},style:{marginLeft:10}}),(0,r.jsxs)("span",{style:{marginLeft:"12px",fontSize:"0.9rem",color:"#555"},children:["\u2139\ufe0f defined at Zenith (",(0,r.jsx)("code",{children:"[Telescope] ZenithAngle = 0"}),")"]})]})]}),n.sources_science&&(0,r.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,r.jsx)("strong",{children:"[sources_science]"}),(0,r.jsx)("div",{style:{marginTop:"0.5em"},children:(0,r.jsxs)("label",{children:["Band:\xa0",(0,r.jsxs)("select",{value:y,onChange:e=>{const t=e.target.value;N(t);const n=p[t],s=n?n.toExponential():"0";b("sources_science","Wavelength",`[${s}]`)},children:[(0,r.jsx)("option",{value:"",children:"-- Select Band --"}),Object.entries(p).map((e=>{let[t,n]=e;const s=parseFloat(n);return(0,r.jsxs)("option",{value:t,children:[t," (",(1e6*s).toFixed(2)," \xb5m)"]},t)}))]}),y&&(0,r.jsxs)("span",{style:{marginLeft:"10px",color:"#555"},children:["\u03bb = ",1e9*p[y]," nm"]})]})}),(0,r.jsx)("div",{style:{marginTop:"0.5em"},children:(0,r.jsxs)("label",{children:["Distance* (arcsec):",(0,r.jsx)("input",{type:"number",value:"string"==typeof n.sources_science.Zenith?n.sources_science.Zenith.replace(/[\[\]]/g,""):n.sources_science.Zenith,step:"0.01",onChange:e=>{const t=e.target.value;(""===t||/^[0-9.eE+\-]+$/.test(t))&&b("sources_science","Zenith",`[${t}]`)},style:{marginLeft:10}})]})})]}),"SCAO_NGS"===f&&n.sources_HO&&(0,r.jsxs)("div",{style:{marginBottom:"1em"},children:[(0,r.jsx)("strong",{children:"[sources_HO]"}),(0,r.jsxs)("div",{style:{marginTop:"0.5em"},children:["NGS Wavelength set at "," ",(0,r.jsxs)("span",{children:[1e9*Number("string"==typeof n.sources_HO.Wavelength?n.sources_HO.Wavelength.replace(/[\[\]]/g,""):n.sources_HO.Wavelength)," ","nm |"]})," "," ","Band:"," ",(0,r.jsx)("span",{children:m(Number("string"==typeof n.sources_HO.Wavelength?n.sources_HO.Wavelength.replace(/[\[\]]/g,""):n.sources_HO.Wavelength))})]}),(0,r.jsx)("div",{style:{marginTop:"0.5em"},children:(0,r.jsxs)("label",{children:["Distance* (arcsec):",(0,r.jsx)("input",{type:"number",value:"string"==typeof n.sources_HO.Zenith?n.sources_HO.Zenith.replace(/[\[\]]/g,""):n.sources_HO.Zenith,step:"0.01",onChange:e=>{const t=e.target.value;(""===t||/^[0-9.eE+\-]+$/.test(t))&&b("sources_HO","Zenith",`[${t}]`)},style:{marginLeft:10}})]})})]}),"SCAO_LGS"===f&&n.sources_LO&&(0,r.jsxs)("div",{style:{marginBottom:"1em"},children:[(0,r.jsx)("strong",{children:"[sources_LO]"}),(0,r.jsxs)("div",{style:{marginTop:"0.5em"},children:["NGS Wavelength set at "," ",(0,r.jsxs)("span",{children:[1e9*Number("string"==typeof n.sources_LO.Wavelength?n.sources_LO.Wavelength.replace(/[\[\]]/g,""):n.sources_LO.Wavelength)," ","nm |"]})," "," ","Band:"," ",(0,r.jsx)("span",{children:m(Number("string"==typeof n.sources_LO.Wavelength?n.sources_LO.Wavelength.replace(/[\[\]]/g,""):n.sources_LO.Wavelength))})]}),(0,r.jsx)("div",{style:{marginTop:"0.5em"},children:(0,r.jsxs)("label",{children:["Distance* (arcsec):",(0,r.jsx)("input",{type:"number",value:"string"==typeof n.sources_LO.Zenith?n.sources_LO.Zenith.replace(/[\[\]]/g,""):n.sources_LO.Zenith,step:"0.01",onChange:e=>{const t=e.target.value;(""===t||/^[0-9.eE+\-]+$/.test(t))&&b("sources_LO","Zenith",`[${t}]`)},style:{marginLeft:10}})]})})]}),"SCAO_NGS"===f&&n.sensor_HO&&(0,r.jsxs)("div",{style:{marginBottom:"1em"},children:[(0,r.jsx)("strong",{children:"[sensor_HO]"}),(0,r.jsxs)("div",{style:{marginTop:"0.5em"},children:[(0,r.jsxs)("label",{children:["V-Magnitude:",(0,r.jsx)("input",{type:"number",value:g,onChange:e=>j(e.target.value),style:{marginLeft:10}})]}),(()=>{const e=n.sources_HO?.Wavelength;let t=0;t=Number("string"==typeof e?e.replace(/[\[\]]/g,""):e);const s={B:1.37,V:0,R:-1.26,I:-2.15,J:-2.49,H:-3.03,K:-3.29},i=m(t),o=Number(g);if(!isNaN(o)&&""!==g.trim()&&i in s){const e=(o+s[i]).toFixed(2);return(0,r.jsxs)("span",{style:{marginLeft:10},children:[i,"-Magnitude: ",e," (spectral class: M0V)"]})}return null})()]}),Object.entries(l.sensor_HO).map((e=>{let[t,s]=e;return(0,r.jsx)("div",{style:{marginTop:"0.5em"},children:(0,r.jsxs)("label",{children:[t,":",(0,r.jsx)("input",{type:"number"===s?"number":"text",value:n.sensor_HO[t],onChange:e=>b("sensor_HO",t,e.target.value),style:{marginLeft:10}})]})},`sensor_HO-${t}`)}))]}),"SCAO_LGS"===f&&n.sensor_LO&&(0,r.jsxs)("div",{style:{marginBottom:"1em"},children:[(0,r.jsx)("strong",{children:"[sensor_LO]"}),(0,r.jsxs)("div",{style:{marginTop:"0.5em"},children:[(0,r.jsxs)("label",{children:["V-Magnitude:",(0,r.jsx)("input",{type:"number",value:g,onChange:e=>j(e.target.value),style:{marginLeft:10}})]}),(()=>{const e=n.sources_LO?.Wavelength;let t=0;t=Number("string"==typeof e?e.replace(/[\[\]]/g,""):e);const s={B:1.37,V:0,R:-1.26,I:-2.15,J:-2.49,H:-3.03,K:-3.29},i=m(t),o=Number(g);if(!isNaN(o)&&""!==g.trim()&&i in s){const e=(o+s[i]).toFixed(2);return(0,r.jsxs)("span",{style:{marginLeft:10},children:[i,"-Magnitude: ",e," (spectral class: M0V)"]})}return null})()]}),Object.entries(l.sensor_LO).map((e=>{let[t,s]=e;return(0,r.jsx)("div",{style:{marginTop:"0.5em"},children:(0,r.jsxs)("label",{children:[t,":",(0,r.jsx)("input",{type:"number"===s?"number":"text",value:n.sensor_LO[t],onChange:e=>b("sensor_LO",t,e.target.value),style:{marginLeft:10}})]})},`sensor_LO-${t}`)}))]}),(0,r.jsxs)("div",{style:{display:"flex",gap:10,marginTop:10},children:[(0,r.jsx)("button",{onClick:()=>{const e={...n};let t="";for(const n in e){if(t+=`[${n}]\n`,"sources_HO"===n||"sources_LO"===n){let s=e[n]?.Wavelength,r=0;r=Number("string"==typeof s?s.replace(/[\[\]]/g,""):s);t+=`# Band: ${m(r)}\n`}const s=e[n];for(const e in s){let r=s[e];const i=l[n]?.[e];"number"===i?(r=Number(r),t+=`${e} = ${r}\n`):"None"===r?t+=`${e} = None\n`:"string"==typeof r&&r.trim().startsWith("[")&&r.trim().endsWith("]")?t+=`${e} = ${r.trim()}\n`:t+="string"==typeof r?`${e} = '${r}'\n`:`${e} = ${r}\n`}t+="\n"}d(t.trim())},children:"Generate INI"}),_&&(0,r.jsx)("a",{href:_,download:v,style:{padding:"6px 12px",background:"#007bff",color:"#fff",textDecoration:"none",borderRadius:4,display:"inline-block"},children:"Download .ini file"})]}),i&&(0,r.jsxs)("div",{style:{marginTop:"20px"},children:[(0,r.jsx)("h4",{children:"Generated .ini configuration file:"}),(0,r.jsx)("pre",{style:{background:"#f0f0f0",padding:10},children:(0,r.jsx)("code",{children:i})})]})]})}const g={id:"interactivetools",title:"Interactive tools \u2013 Generate Input Files & Convert Parameters",sidebar_label:"Interactive tools \u2013 Generate Input Files & Convert Parameters"},x=void 0,_={},O=[{value:"Generate Input Files",id:"generate-input-files",level:2}];function v(e){const t={code:"code",h2:"h2",p:"p",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"generate-input-files",children:"Generate Input Files"}),"\n",(0,r.jsxs)(t.p,{children:["This section provides an interface to generate custom ",(0,r.jsx)(t.code,{children:".ini"})," files by selecting the desired instrument and parameter values below."]}),"\n",(0,r.jsx)(d,{})]})}function f(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(v,{...e})}):v(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var s=n(6540);const r={},i=s.createContext(r);function o(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);