<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-aquila/running_selection" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Running asterism selections | Astro-TipTop Services</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://astro-tiptop-services.github.io/astro-tiptop-services/img/logo_astro_tiptop.png"><meta data-rh="true" name="twitter:image" content="https://astro-tiptop-services.github.io/astro-tiptop-services/img/logo_astro_tiptop.png"><meta data-rh="true" property="og:url" content="https://astro-tiptop-services.github.io/astro-tiptop-services/docs/aquila/running_selection"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="application-name" content="Astro TipTop Services"><meta data-rh="true" name="google-site-verification" content="xup3nZWe_TurfujsJeQWHBoOL5Vm1eEYYxLbfe1uWso"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Running asterism selections | Astro-TipTop Services"><meta data-rh="true" name="description" content="📑 Pipeline"><meta data-rh="true" property="og:description" content="📑 Pipeline"><link data-rh="true" rel="icon" href="/astro-tiptop-services/img/logo_astro-tiptop_cropped.png"><link data-rh="true" rel="canonical" href="https://astro-tiptop-services.github.io/astro-tiptop-services/docs/aquila/running_selection"><link data-rh="true" rel="alternate" href="https://astro-tiptop-services.github.io/astro-tiptop-services/docs/aquila/running_selection" hreflang="en"><link data-rh="true" rel="alternate" href="https://astro-tiptop-services.github.io/astro-tiptop-services/docs/aquila/running_selection" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","@id":"https://astro-tiptop-services.github.io/astro-tiptop-services#org","name":"Astro TipTop Services","alternateName":["Astro TipTop","Astro TipTop Services","Astro-TipTop","TipTop"],"url":"https://astro-tiptop-services.github.io/astro-tiptop-services/","logo":{"@type":"ImageObject","@id":"https://astro-tiptop-services.github.io/astro-tiptop-services#logo","url":"https://astro-tiptop-services.github.io/astro-tiptop-services/img/logo_astro-tiptop_cropped.png","width":256,"height":256},"sameAs":["https://github.com/astro-tiptop/TIPTOP","https://pypi.org/project/astro-tiptop/"]}</script><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","@id":"https://astro-tiptop-services.github.io/astro-tiptop-services#website","url":"https://astro-tiptop-services.github.io/astro-tiptop-services/","name":"Astro TipTop Services","potentialAction":{"@type":"SearchAction","target":"https://astro-tiptop-services.github.io/astro-tiptop-services/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><link rel="alternate" type="application/rss+xml" href="/astro-tiptop-services/blog/rss.xml" title="Astro-TipTop Services RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/astro-tiptop-services/blog/atom.xml" title="Astro-TipTop Services Atom Feed">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-mll67QQEJgVtGqxW9VD7q2GqNzMIk1CjATaF2nUgA7HgS43l+ZFV2DkVKkW0nU3g" crossorigin="anonymous"><link rel="stylesheet" href="/astro-tiptop-services/assets/css/styles.afbc34ce.css">
<script src="/astro-tiptop-services/assets/js/runtime~main.48f42472.js" defer="defer"></script>
<script src="/astro-tiptop-services/assets/js/main.39cbcc33.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/astro-tiptop-services/"><div class="navbar__logo"><img src="/astro-tiptop-services/img/logo_astro-tiptop_cropped.png" alt="Astro-TipTop Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="100"><img src="/astro-tiptop-services/img/logo_astro-tiptop_cropped.png" alt="Astro-TipTop Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="100"></div><b class="navbar__title text--truncate">Astro-TipTop Services</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" sidebarid="generalSidebar" href="/astro-tiptop-services/docs/general/whatistiptop">General Documentation</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/astro-tiptop-services/docs/general/whatistiptop">What is TipTop?</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/general/howdoestiptopwork">How does TipTop work?</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/general/whatcanitbeusedfor">What can it be used for?</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/general/error_breakdown">What is included in TipTop?</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/general/installation">How to install TipTop?</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" sidebarid="tipTopSidebar" href="/astro-tiptop-services/astro_tiptop_modules">Astro-TipTop Features</a><ul class="dropdown__menu"><li><a class="dropdown__link menu-section-header" href="/astro-tiptop-services/docs/orion/overview">TipTop | Core Functionality</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/usage">• Quickstart</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/howtosetuplaunchfile">• Set Up a Launch Script for TipTop and Display Results</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/howtosetup">• Set Up TipTop According to the OA Mode</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/aoinstruments">• Available AO instruments - Input Files and Corresponding Results </a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/interactivetools">• Interactive tools - Generate Input Files &amp; Convert Parameters</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/useful_scripts">• Useful Scripts &amp; Companion Tools</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/parameterfiles">• Parameter files explained</a></li><li><a class="dropdown__link menu-section-header" href="/astro-tiptop-services/docs/aquila/overview">TipTop | Asterism selection</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/aquila/parameterfiles">• Parameter files - [ASTERISM_SELECTION]</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/astro-tiptop-services/docs/aquila/running_selection">• Running selections</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/aquila/heuristic_models">• Heuristic models</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/aquila/tuto_ast_select">• Tutorial - Asterism Selection</a></li><li><a class="dropdown__link menu-section-header" href="/astro-tiptop-services/docs/lyra/overview">TipTop | PSF Fitting / PSF Extrapolation</a></li><li><a class="dropdown__link menu-section-header" href="/astro-tiptop-services/docs/phoenix/overview">TipTop | PSF-R service</a></li></ul></div><a class="navbar__item navbar__link" href="/astro-tiptop-services/blog">News &amp; Updates</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" sidebarid="Resources">Resources</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/astro-tiptop-services/resources/about_us">About us</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/references">Key Publications &amp; References</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/users">Users Area</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/contributors">Contributors Area</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/wishlist">Wish list</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/AO_school">AO school</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/internship_opportunities">Internship Opportunities</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/contact">Contact Support</a></li></ul></div><a class="navbar__item navbar__link" href="/astro-tiptop-services/terms">Terms &amp; Conditions</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/astro-tiptop/TIPTOP" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/astro-tiptop-services/astro_tiptop_modules">Astro-TipTop Features</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/astro-tiptop-services/docs/orion/overview">TipTop | Core Functionality</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/astro-tiptop-services/docs/aquila/overview">TipTop | Asterism selection</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/astro-tiptop-services/docs/aquila/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/astro-tiptop-services/docs/aquila/parameterfiles">Parameter files - [ASTERISM_SELECTION]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/astro-tiptop-services/docs/aquila/running_selection">Running selections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/astro-tiptop-services/docs/aquila/heuristic_models">Heuristic models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/astro-tiptop-services/docs/aquila/tuto_ast_select">Tutorial - Asterism Selection</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/astro-tiptop-services/docs/lyra/overview">TipTop | PSF Fitting / PSF Extrapolation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/astro-tiptop-services/docs/phoenix/overview">TipTop | PSF-R Service</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/astro-tiptop-services/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">TipTop | Asterism selection</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Running selections</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Running asterism selections</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-pipeline">📑 Pipeline<a href="#-pipeline" class="hash-link" aria-label="Direct link to 📑 Pipeline" title="Direct link to 📑 Pipeline">​</a></h2>
<p align="center"></p><p><img decoding="async" loading="lazy" src="/astro-tiptop-services/assets/images/pipeline_ast-90094d40e61c0c54fe07face25f88bff.png" width="4246" height="1499" class="img_ev3q"></p><p></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-asterismselection-function">📈 <code>asterismSelection</code> function<a href="#-asterismselection-function" class="hash-link" aria-label="Direct link to -asterismselection-function" title="Direct link to -asterismselection-function">​</a></h2>
<p>Once your .ini has an <code>[ASTERISM_SELECTION]</code> section, run the evaluation with:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tiptop</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">asterismSelection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">simulName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> path2param</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> parametersFile</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> outputDir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> outputFile</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> doPlot</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                         returnRes</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> returnMetrics</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> addSrAndFwhm</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                         getHoErrorBreakDown</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ensquaredEnergy</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> eeRadiusInMas</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                         doConvolve</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> plotInComputeAsterisms</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> progressStatus</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> gpuIndex</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="parameters-highlights">Parameters (highlights)<a href="#parameters-highlights" class="hash-link" aria-label="Direct link to Parameters (highlights)" title="Direct link to Parameters (highlights)">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong> Parameters </strong></summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th style="text-align:left">Parameter</th><th style="text-align:left">Type</th><th style="text-align:left">Required</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>simulName</code></td><td style="text-align:left">str</td><td style="text-align:left">✓</td><td style="text-align:left">Short name used as prefix when saving arrays (e.g. <code>simulName+&#x27;sr.npy&#x27;</code>).</td></tr><tr><td style="text-align:left"><code>path2param</code></td><td style="text-align:left">str</td><td style="text-align:left">✓</td><td style="text-align:left">Path to the parameter file.</td></tr><tr><td style="text-align:left"><code>parametersFile</code></td><td style="text-align:left">str</td><td style="text-align:left">✓</td><td style="text-align:left">Name of the parameter file to be used without the extention.</td></tr><tr><td style="text-align:left"><code>outputDir</code></td><td style="text-align:left">str</td><td style="text-align:left">✓</td><td style="text-align:left">Path to the folder in which to write the output.</td></tr><tr><td style="text-align:left"><code>outputFile</code></td><td style="text-align:left">str</td><td style="text-align:left">✓</td><td style="text-align:left">Base FITS filename if results are saved as images elsewhere in the pipeline.</td></tr><tr><td style="text-align:left"><code>doPlot</code></td><td style="text-align:left">bool</td><td style="text-align:left">optional</td><td style="text-align:left"><em>Default</em>: <code>False</code>, If you want to see the result in python set this to <code>True</code>.</td></tr><tr><td style="text-align:left"><code>returnRes</code></td><td style="text-align:left">bool</td><td style="text-align:left">optional</td><td style="text-align:left"><em>Default</em>: <code>False</code>, If <code>True</code>, return (HO, LO) residuals per asterism and the simulation object.</td></tr><tr><td style="text-align:left"><code>returnMetrics</code></td><td style="text-align:left">bool</td><td style="text-align:left">optional</td><td style="text-align:left"><em>Default</em>: <code>True</code>, The function will return Strehl Ratio, fwhm, encircled energy within eeRadiusInMas, covariance ellipses and the simulation object, if set to <code>True</code>.</td></tr><tr><td style="text-align:left"><code>addSrAndFwhm</code></td><td style="text-align:left">bool</td><td style="text-align:left">optional</td><td style="text-align:left"><em>Default</em>: <code>True</code>, The function will add in the header of the fits file SR anf FWHM for each PSF.</td></tr><tr><td style="text-align:left"><code>verbose</code></td><td style="text-align:left">bool</td><td style="text-align:left">optional</td><td style="text-align:left"><em>Default</em>: <code>False</code>, If you want all messages set this to <code>True</code>.</td></tr><tr><td style="text-align:left"><code>getHoErrorBreakDown</code></td><td style="text-align:left">bool</td><td style="text-align:left">optional</td><td style="text-align:left"><em>Default</em>: <code>False</code>, If you want HO error breakdown set this to <code>True</code>.</td></tr><tr><td style="text-align:left"><code>ensquaredEnergy</code></td><td style="text-align:left">float</td><td style="text-align:left">optional</td><td style="text-align:left"><em>Default</em>: <code>False</code>, If you want ensquared energy instead of encircled energy set this to <code>True</code>.</td></tr><tr><td style="text-align:left"><code>eeRadiusInMas</code></td><td style="text-align:left">bool</td><td style="text-align:left">optional</td><td style="text-align:left"><em>Default</em>: 50, Used together with <code>returnMetrics</code>, radius used for the computation of the encirlced energy.</td></tr><tr><td style="text-align:left"><code>doConvolve</code></td><td style="text-align:left">bool</td><td style="text-align:left">optional</td><td style="text-align:left"><em>Default</em>: <code>False</code>, If you want to use the natural convolution operation set to True.</td></tr><tr><td style="text-align:left"><code>plotInComputeAsterisms</code></td><td style="text-align:left">bool</td><td style="text-align:left">optional</td><td style="text-align:left"><em>Default</em>: <code>False</code>, If you want to display asterisms.</td></tr><tr><td style="text-align:left"><code>progressStatus</code></td><td style="text-align:left">bool</td><td style="text-align:left">optional</td><td style="text-align:left"><em>Default</em>: <code>False</code>, If you want to display progress status.</td></tr><tr><td style="text-align:left"><code>gpuIndex</code></td><td style="text-align:left">integer</td><td style="text-align:left">optional</td><td style="text-align:left"><em>Default</em>: 0, Target GPU index where the simulation will be run.</td></tr></tbody></table></div></div></details>
<p>⚠️ Prerequisites: your .ini must have a valid <a href="/astro-tiptop-services/docs/aquila/parameterfiles"><code>[ASTERISM_SELECTION]</code></a> and the LO loop must be on (valid <a href="/astro-tiptop-services/docs/orion/parameterfiles#sensor_LO"><code>[sensor_LO]</code></a> section).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-what-does-asterismselection-produce">✨ What does <code>asterismSelection</code> produce?<a href="#-what-does-asterismselection-produce" class="hash-link" aria-label="Direct link to -what-does-asterismselection-produce" title="Direct link to -what-does-asterismselection-produce">​</a></h2>
<p><code>tiptop.asterismSelection(...)</code> evaluates every candidate asterism and returns/saves <strong>image-quality metrics per asterism</strong>, plus a simulation object you can reuse.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="return-values">Return values<a href="#return-values" class="hash-link" aria-label="Direct link to Return values" title="Direct link to Return values">​</a></h3>
<p>Depending on the flags, you typically get:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fw</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ee</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> covs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> simul </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tiptop</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">asterismSelection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    returnRes</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># set True to also get residuals (see below)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    returnMetrics</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># default=True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>sr</code>: Strehl Ratio per asterism (unitless, ∈ [0,1]).</li>
<li><code>fw</code>: FWHM per asterism (in milliarcseconds, mas).</li>
<li><code>ee</code>: Encircled Energy per asterism, measured within eeRadiusInMas (fraction ∈ [0,1]).</li>
<li><code>covs</code>: covariance ellipses per asterism (per science target; used for anisotropy/jitter visualizations).</li>
<li><code>simul</code>: the simulation object (class asterismSimulation) holding inputs, indices, and cached arrays.</li>
</ul>
<p>If you pass <code>returnRes=True</code>, the function also returns residual terms (HO/LO) per asterism alongside the simulation object. These are the raw residuals produced by the AO pipeline and are useful for diagnostics (e.g., breaking down error sources). Units and exact shapes depend on your AO configuration (number of science targets, WFS setup, etc.).</p>
<p>✏️ <strong>Note on shapes</strong>. Metrics are computed per <strong>science target</strong>.
If you configured multiple science directions, each asterism entry contains one value per target (e.g. <code>sr[asterism_idx, target_idx]</code>). The first target (<code>[..., 0]</code>) is often the “on-axis” metric. With a single science target, arrays reduce to length <code>nAsterisms</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="files-written-to-outputdir">Files written to <code>outputDir</code><a href="#files-written-to-outputdir" class="hash-link" aria-label="Direct link to files-written-to-outputdir" title="Direct link to files-written-to-outputdir">​</a></h4>
<p>For convenience and faster reloads, the following arrays are saved with the prefix <code>simulName</code>:</p>
<table><thead><tr><th>File</th><th>Contains</th><th>Notes</th></tr></thead><tbody><tr><td><code>simulName + &#x27;sr.npy&#x27;</code></td><td>Strehl Ratio per asterism (per target)</td><td>unitless</td></tr><tr><td><code>simulName + &#x27;fw.npy&#x27;</code></td><td>FWHM per asterism (per target)</td><td>mas</td></tr><tr><td><code>simulName + &#x27;ee.npy&#x27;</code></td><td>Encircled energy per asterism (per target)</td><td>fraction</td></tr><tr><td><code>simulName + &#x27;covs.npy&#x27;</code></td><td>Covariance ellipses per asterism (per target)</td><td>used for PSF anisotropy/jitter</td></tr><tr><td><code>simulName + &#x27;penalty.npy&#x27;</code></td><td>Scalar ranking metric per asterism</td><td>lower is better</td></tr></tbody></table>
<p>⬇️ You can reload them without recomputing via:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fw</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ee</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> covs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> simul </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> reloadAsterismSelection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">simulName</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">SIMUL_NAME</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">path2param</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">PARAMS_DIR</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                  parametersFile</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">INI_BASENAME</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> outputDir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">OUTPUT_DIR</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                  outputFile</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;psf&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> doPlot</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                  returnRes</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> returnMetrics</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                  addSrAndFwhm</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> verbose</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                  getHoErrorBreakDown</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ensquaredEnergy</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                  eeRadiusInMas</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> gpuIndex</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">GPU_INDEX</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For a step-by-step run, see <a href="/astro-tiptop-services/docs/aquila/tuto_ast_select"><strong>Tutorial - Asterism Seclection</strong></a>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/astro-tiptop-services/docs/aquila/parameterfiles"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Parameter files - [ASTERISM_SELECTION]</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/astro-tiptop-services/docs/aquila/heuristic_models"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Heuristic models</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-pipeline" class="table-of-contents__link toc-highlight">📑 Pipeline</a></li><li><a href="#-asterismselection-function" class="table-of-contents__link toc-highlight">📈 <code>asterismSelection</code> function</a><ul><li><a href="#parameters-highlights" class="table-of-contents__link toc-highlight">Parameters (highlights)</a></li></ul></li><li><a href="#-what-does-asterismselection-produce" class="table-of-contents__link toc-highlight">✨ What does <code>asterismSelection</code> produce?</a><ul><li><a href="#return-values" class="table-of-contents__link toc-highlight">Return values</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Tutorials</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/astro-tiptop-services/docs/intro">TipTop Installation Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/astro-tiptop-services/docs/quickstart">TipTop Quickstart Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/astro-tiptop-services/terms">Terms &amp; Conditions</a></li><li class="footer__item"><a class="footer__link-item" href="/astro-tiptop-services/resources/contact">Contact us</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/astro-tiptop/TIPTOP" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://pypi.org/project/astro-tiptop/" target="_blank" rel="noopener noreferrer" class="footer__link-item">PyPi<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Astro-TipTop-Services. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>