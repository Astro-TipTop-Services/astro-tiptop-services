<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-general/error_breakdown" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">TipTop - Error Terms Coverage | Astro-TipTop Services</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://astro-tiptop-services.github.io/astro-tiptop-services/img/logo_astro_tiptop.png"><meta data-rh="true" name="twitter:image" content="https://astro-tiptop-services.github.io/astro-tiptop-services/img/logo_astro_tiptop.png"><meta data-rh="true" property="og:url" content="https://astro-tiptop-services.github.io/astro-tiptop-services/docs/general/error_breakdown"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="application-name" content="Astro TipTop Services"><meta data-rh="true" name="google-site-verification" content="xup3nZWe_TurfujsJeQWHBoOL5Vm1eEYYxLbfe1uWso"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="TipTop - Error Terms Coverage | Astro-TipTop Services"><meta data-rh="true" name="description" content="üöß This page is currently being updated."><meta data-rh="true" property="og:description" content="üöß This page is currently being updated."><link data-rh="true" rel="icon" href="/astro-tiptop-services/img/logo_astro-tiptop_cropped.png"><link data-rh="true" rel="canonical" href="https://astro-tiptop-services.github.io/astro-tiptop-services/docs/general/error_breakdown"><link data-rh="true" rel="alternate" href="https://astro-tiptop-services.github.io/astro-tiptop-services/docs/general/error_breakdown" hreflang="en"><link data-rh="true" rel="alternate" href="https://astro-tiptop-services.github.io/astro-tiptop-services/docs/general/error_breakdown" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","@id":"https://astro-tiptop-services.github.io/astro-tiptop-services#org","name":"Astro TipTop Services","alternateName":["Astro TipTop","Astro TipTop Services","Astro-TipTop","TipTop"],"url":"https://astro-tiptop-services.github.io/astro-tiptop-services/","logo":{"@type":"ImageObject","@id":"https://astro-tiptop-services.github.io/astro-tiptop-services#logo","url":"https://astro-tiptop-services.github.io/astro-tiptop-services/img/logo_astro-tiptop_cropped.png","width":256,"height":256},"sameAs":["https://github.com/astro-tiptop/TIPTOP","https://pypi.org/project/astro-tiptop/"]}</script><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","@id":"https://astro-tiptop-services.github.io/astro-tiptop-services#website","url":"https://astro-tiptop-services.github.io/astro-tiptop-services/","name":"Astro TipTop Services","potentialAction":{"@type":"SearchAction","target":"https://astro-tiptop-services.github.io/astro-tiptop-services/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><link rel="alternate" type="application/rss+xml" href="/astro-tiptop-services/blog/rss.xml" title="Astro-TipTop Services RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/astro-tiptop-services/blog/atom.xml" title="Astro-TipTop Services Atom Feed">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-mll67QQEJgVtGqxW9VD7q2GqNzMIk1CjATaF2nUgA7HgS43l+ZFV2DkVKkW0nU3g" crossorigin="anonymous"><link rel="stylesheet" href="/astro-tiptop-services/assets/css/styles.afbc34ce.css">
<script src="/astro-tiptop-services/assets/js/runtime~main.7b2e60f8.js" defer="defer"></script>
<script src="/astro-tiptop-services/assets/js/main.f01933c4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/astro-tiptop-services/"><div class="navbar__logo"><img src="/astro-tiptop-services/img/logo_astro-tiptop_cropped.png" alt="Astro-TipTop Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="100"><img src="/astro-tiptop-services/img/logo_astro-tiptop_cropped.png" alt="Astro-TipTop Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="100"></div><b class="navbar__title text--truncate">Astro-TipTop Services</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" sidebarid="generalSidebar" href="/astro-tiptop-services/docs/general/whatistiptop">General Documentation</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/astro-tiptop-services/docs/general/whatistiptop">What is TipTop?</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/general/howdoestiptopwork">How does TipTop work?</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/general/whatcanitbeusedfor">What can it be used for?</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/astro-tiptop-services/docs/general/error_breakdown">What is included in TipTop?</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/general/installation">How to install TipTop?</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" sidebarid="tipTopSidebar" href="/astro-tiptop-services/astro_tiptop_modules">Astro-TipTop Features</a><ul class="dropdown__menu"><li><a class="dropdown__link menu-section-header" href="/astro-tiptop-services/docs/orion/overview">TipTop | Core Functionality</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/usage">‚Ä¢ Quickstart</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/howtosetuplaunchfile">‚Ä¢ Set Up a Launch Script for TipTop and Display Results</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/howtosetup">‚Ä¢ Set Up TipTop According to the OA Mode</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/aoinstruments">‚Ä¢ Available AO instruments - Input Files and Corresponding Results </a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/interactivetools">‚Ä¢ Interactive tools - Generate Input Files &amp; Convert Parameters</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/useful_scripts">‚Ä¢ Tutorials &amp; Useful Scriptss</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/parameterfiles">‚Ä¢ Parameter files explained</a></li><li><a class="dropdown__link menu-section-header" href="/astro-tiptop-services/docs/aquila/overview">TipTop | Asterism selection</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/aquila/parameterfiles">‚Ä¢ Parameter files - [ASTERISM_SELECTION]</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/aquila/running_selection">‚Ä¢ Running selections</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/aquila/heuristic_models">‚Ä¢ Heuristic models</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/aquila/tuto_ast_select">‚Ä¢ Tutorial - Asterism Selection</a></li><li><a class="dropdown__link menu-section-header" href="/astro-tiptop-services/docs/lyra/overview">TipTop | PSF Fitting / PSF Extrapolation</a></li><li><a class="dropdown__link menu-section-header" href="/astro-tiptop-services/docs/phoenix/overview">TipTop | PSF-R service</a></li></ul></div><a class="navbar__item navbar__link" href="/astro-tiptop-services/blog">News &amp; Updates</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" sidebarid="Resources">Resources</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/astro-tiptop-services/resources/about_us">About us</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/references">Key Publications &amp; References</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/users">Users Area</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/contributors">Contributors Area</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/wishlist">Wish list</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/AO_school">AO school</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/internship_opportunities">Internship Opportunities</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/contact">Contact Support</a></li></ul></div><a class="navbar__item navbar__link" href="/astro-tiptop-services/terms">Terms &amp; Conditions</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/astro-tiptop/TIPTOP" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/astro-tiptop-services/docs/general/whatistiptop">General Documentation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/astro-tiptop-services/docs/general/whatistiptop">What is TipTop?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/astro-tiptop-services/docs/general/howdoestiptopwork">How does TipTop work ?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/astro-tiptop-services/docs/general/whatcanitbeusedfor">What can TipTop be used for?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/astro-tiptop-services/docs/general/error_breakdown">TipTop - Error Terms Coverage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/astro-tiptop-services/docs/general/installation">TipTop Installation Tutorial</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/astro-tiptop-services/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">General Documentation</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">TipTop - Error Terms Coverage</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>TipTop - Error Terms Coverage</h1></header><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-this-page-is-currently-being-updated">üöß This page is currently being updated.<a href="#-this-page-is-currently-being-updated" class="hash-link" aria-label="Direct link to üöß This page is currently being updated." title="Direct link to üöß This page is currently being updated.">‚Äã</a></h3>
<p>Please check back later.</p>
<details style="display:none" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p align="justify"></p><p>TipTop is an <strong>analytical AO PSF simulation tool</strong> based on the separation:</p><ul>
<li><strong>High-Order residuals (HO)</strong> ‚Üí computed from a <strong>phase PSD model</strong></li>
<li><strong>Low-Order residuals (LO)</strong> ‚Üí described by a <strong>tip‚Äìtilt jitter kernel</strong></li>
</ul><p>It reproduces the <em>main AO error terms</em> that can be modeled through spatio-temporal PSDs, but <strong>does not include</strong> every instrumental or calibration residual that a full end-to-end simulator would model. <br>
Extra terms may be added manually through extra erro terrms (see the <a href="/astro-tiptop-services/docs/orion/useful_scripts"><em>Additional Error Terms tutorial</em></a>).</p><p></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-high-order-ho-error-terms--included">1. High-Order (HO) Error Terms ‚Äî <strong>Included</strong><a href="#1-high-order-ho-error-terms--included" class="hash-link" aria-label="Direct link to 1-high-order-ho-error-terms--included" title="Direct link to 1-high-order-ho-error-terms--included">‚Äã</a></h2><p align="justify"></p><p>TipTop computes the High-Order (HO) PSF by summing several residual phase PSD components inside <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L650" target="_blank" rel="noopener noreferrer"><code>p3.aoSystem.fourierModel.powerSpectrumDensity()</code></a>. Each physical error term corresponds to a dedicated PSD function, and all contributions are combined before converting the total PSD to the HO OTF and HO PSF.</p><p></p><p align="center"></p><p><img decoding="async" loading="lazy" src="/astro-tiptop-services/assets/images/summary_psd_ho-3ae031727ac996d4873bfa1d80a8efa7.jpg" width="1039" height="354" class="img_ev3q">
<small> Summary of the different PSDs used in the HO part of TIPTOP. The first one is the fitting term, followed by temporal, noise, aliasing, etc. All PSDs are then summed and converted into the HO PSF.</small>
<em><small>(<em><a href="https://www.spiedigitallibrary.org/conference-proceedings-of-spie/13097/130972Y/TipTop--toward-a-single-tool-for-all-ELT-instruments/10.1117/12.3015061.full" target="_blank" rel="noopener noreferrer">source: Neichel et al., &quot;TipTop: toward a single tool for all ELT instrument‚Äôs PSF prediction&quot;, Adaptive Optics Systems IX, 2024</a>)</em></small></em></p><p></p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong> Error breakdown </strong></summary><div><div class="collapsibleContent_i85q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-fitting-error">‚úîÔ∏è <strong>Fitting error</strong><a href="#Ô∏è-fitting-error" class="hash-link" aria-label="Direct link to Ô∏è-fitting-error" title="Direct link to Ô∏è-fitting-error">‚Äã</a></h3><ul>
<li>Refers to the uncorrected high-spatial frequencies <strong>outside the AO/DM control region</strong>, i.e. above the DM cutoff set by the actuator pitch.</li>
<li>Depends mainly on the actuator pitch and on the atmospheric seeing (through (r0)) at the AO reference wavelength, and is only weakly sensitive to the outer scale (L0).</li>
</ul><p>Implemented in: <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L799" target="_blank" rel="noopener noreferrer"><code>fittingPSD()</code></a> <br>
Added to total PSD in <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L650" target="_blank" rel="noopener noreferrer"><code>powerSpectrumDensity()</code></a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-aliasing-error">‚úîÔ∏è <strong>Aliasing error</strong><a href="#Ô∏è-aliasing-error" class="hash-link" aria-label="Direct link to Ô∏è-aliasing-error" title="Direct link to Ô∏è-aliasing-error">‚Äã</a></h3><ul>
<li>Refers to the high-spatial frequencies that are aliased owing to the WFS spatial sampling and appears at lower spatial frequencies in the reconstructed phase.</li>
<li>Computed using a <strong>SCAO formulation</strong> inside <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L808" target="_blank" rel="noopener noreferrer"><code>aliasingPSD()</code></a> and then applied identically to all science directions in <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L650" target="_blank" rel="noopener noreferrer"><code>powerSpectrumDensity()</code></a>. It does not explicitly go through the tomographic reconstructor or DM projector.</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-noise-error">‚úîÔ∏è <strong>Noise Error</strong><a href="#Ô∏è-noise-error" class="hash-link" aria-label="Direct link to Ô∏è-noise-error" title="Direct link to Ô∏è-noise-error">‚Äã</a></h3><p>This term represents the noise introduced by the Wavefront Sensor (WFS) (detector, shot noise, background). <br>
The noise variance is either:</p><ul>
<li>computed from WFS characteristics (pixels per subaperture, RON, throughput, pixel scale, magnitude), or</li>
<li>provided directly by the user as a noise variance in rad¬≤.</li>
</ul><p>In the code, the noise is treated as a spatial PSD that is:</p><ol>
<li>
<p><strong>Propagated through the (tomographic) wavefront reconstructor</strong><br>
<!-- -->If a tomographic reconstructor is active, the noise covariance is mapped through it before being projected onto the DM space.</p>
</li>
<li>
<p><strong>Filtered by the temporal controller</strong><br>
<!-- -->The resulting PSD is multiplied by the controller‚Äôs <em>noise transfer function</em> (TF_noise), which models the temporal behaviour of the loop.</p>
</li>
<li>
<p><strong>Added to the total HO PSD</strong> in <code>powerSpectrumDensity()</code>.</p>
</li>
</ol><p>Implemented in: <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L909" target="_blank" rel="noopener noreferrer"><code>noisePSD()</code></a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-spatio-temporal-error">‚úîÔ∏è <strong>Spatio-Temporal error</strong><a href="#Ô∏è-spatio-temporal-error" class="hash-link" aria-label="Direct link to Ô∏è-spatio-temporal-error" title="Direct link to Ô∏è-spatio-temporal-error">‚Äã</a></h3><p>This term represents:</p><ul>
<li>the spatial limitations of wavefront reconstruction (MMSE/POLC tomography, DM projection, anisoplanatism), and</li>
<li>the temporal limitations of the AO loop (servo-lag, bandwidth, and delays).</li>
</ul><p>TipTop computes this contribution inside<br>
<a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L650" target="_blank" rel="noopener noreferrer"><code>powerSpectrumDensity()</code></a> by:</p><p>TipTop computes it inside
powerSpectrumDensity(), where:</p><ol>
<li>
<p>Spatial / Tomographic reconstruction
The code builds the tomographic residual PSD using:</p>
<ul>
<li>the full WFS constellation (NGS &amp; LGS) and their geometry,</li>
<li>MMSE/POLC reconstructor,</li>
<li>DM conjugation heights and actuator pitch,</li>
<li>projection onto one or several DMs,</li>
<li>SCAO anisoplanatism (single NGS),</li>
<li>LGS cone effect (atmospheric layers stretched along LGS lines of sight),</li>
<li>MCAO LGS volume-loss term when relevant.</li>
</ul>
</li>
<li>
<p>Temporal filtering
The spatial PSD is then filtered by the controller‚Äôs rejection transfer function, which embeds:</p>
<ul>
<li>loop gain,</li>
<li>sampling frequency,</li>
<li>latency and integration time,</li>
<li>controller type (integrator or double integrator).</li>
</ul>
</li>
</ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-chromatisc-error">‚úîÔ∏è <strong>Chromatisc error</strong><a href="#Ô∏è-chromatisc-error" class="hash-link" aria-label="Direct link to Ô∏è-chromatisc-error" title="Direct link to Ô∏è-chromatisc-error">‚Äã</a></h2><p>TipTop includes two dedicated PSD terms to account for wavelength-dependent effects:</p><ul>
<li>
<p><strong>Chromatism</strong><br>
<!-- -->Implemented in <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L1128C9-L1128C22" target="_blank" rel="noopener noreferrer"><code>chromatismPSD()</code></a>: this term models chromatic phase errors
arising from the difference between the guide-star/WFS wavelength (<code>gs.wvl[0]</code>)
and the reference PSF wavelength (<code>freq.wvlRef</code>).<br>
<!-- -->The function computes an additional phase PSD proportional to<br>
<code>\((n(\lambda_{\mathrm{GS}}) - n(\lambda_{\mathrm{ref}}))^2\), where \(n(\lambda)\)</code> is
the refractive index of air, and adds it to the HO error budget in
<a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L650" target="_blank" rel="noopener noreferrer"><code>powerSpectrumDensity()</code></a>.</p>
</li>
<li>
<p><strong>Differential atmospheric refraction</strong><br>
<!-- -->Implemented in <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L1077" target="_blank" rel="noopener noreferrer"><code>differentialRefractionPSD()</code></a>: this term accounts for the
differential refraction between the science target and the guide stars when they
are observed at different wavelengths and zenith angles.<br>
<!-- -->It uses the refraction index at the science and GS wavelengths together with the
geometric configuration (zenith angle, source and GS positions, turbulence
profile) to build an additional anisoplanatic-like PSD, which is also added to
the HO budget.</p>
</li>
</ul><p>Both contributions are only applied when the corresponding options are enabled in the
configuration and there is a non-zero wavelength/angle difference.</p></div></div></details><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-summary-ho">‚úîÔ∏è <strong>Summary (HO)</strong><a href="#Ô∏è-summary-ho" class="hash-link" aria-label="Direct link to Ô∏è-summary-ho" title="Direct link to Ô∏è-summary-ho">‚Äã</a></h3><p><strong>Included HO error terms:</strong></p><ul>
<li>DM fitting</li>
<li>Aliasing</li>
<li>WFS noise propagation</li>
<li>Sapatio-temporal reconstruction error</li>
<li>Chromatism</li>
<li>Differential refraction</li>
<li>LGS cone effect</li>
<li>MCAO LGS volume loss</li>
<li>User-defined <a href="/astro-tiptop-services/docs/orion/useful_scripts">extra error</a></li>
</ul><p>Not included in HO:</p><ul>
<li>WFS spot truncation</li>
<li>Sodium profile variability</li>
<li>Dome seeing</li>
<li>Low-wind effect</li>
<li>Telescope/instrument HO residuals (unless supplied throught extra error terms (see <a href="/astro-tiptop-services/docs/orion/useful_scripts">here</a>))</li>
</ul><hr><h1>2. Low-Order (LO) Error Terms / Jitter Kernel ‚Äî <strong>Included</strong></h1><p>The LO kernel accounts for residual image motion.
It is modeled as the quadratic sum of three independent terms (<a href="https://doi.org/10.1117/12.2313175" target="_blank" rel="noopener noreferrer">Plantet et al. 2018</a>):</p><p>The LO part, derived from the method presented in Plantet et al. 20184 computes the residual jitter as
the quadratic sum of the windshake and vibrations, the tomographic error for multi-NGS or off-axis NGS AO
systems, and the noise propagation. The noise terms is computed based on the actual PSF quality at the NGS
position, based on the HO residuals. This is important to get an accurate estimation. The noise computation also
considers the NGS sensing wavelength, NGS sampling, detector noise. Noise and temporal (mostly windshake
rejection) are quickly optimized to get an equilibrated error budget. The LO part can also be ran independently
in order to provide an estimate of the best NGSs asterism in a given field. This will be described further in
Section 3.1 and in a companion paper by Rossi et al.5</p><ul>
<li>
<p><strong>Residual windshake / vibrations</strong><br>
‚Äì Telescope vibration PSD filtered by control law (integrator/double integrator).<br>
‚Äì Optimized on brightest NGS SNR.<br>
‚Äì Assumed isoplanatic.</p>
</li>
<li>
<p><strong>LO tomography</strong><br>
‚Äì Difference between turbulence volume seen by NGS and science directions.<br>
‚Äì Reduces to TT anisoplanatism for single NGS.</p>
</li>
<li>
<p><strong>Tip-tilt noise</strong><br>
‚Äì Propagation of TT sensor noise through the control loop.<br>
‚Äì Depends on SR/FWHM at NGS position, lenslet pitch, RON, magnitude, and Œª.<br>
‚Äì With multiple NGS: propagated through the LO reconstructor.</p>
</li>
</ul><p><strong>Telescope / Instrument Effects</strong> ‚ö†Ô∏è</p><ul>
<li>
<p><strong>Static OTF (optional):</strong><br>
User can supply static aberrations from telescope or instrument (pupil maps, NCPA, off-axis aberrations).</p>
</li>
<li>
<p><strong>Detector sampling:</strong><br>
Pixellation included in final PSF generation.</p>
</li>
<li>
<p><strong>Not included:</strong><br>
‚Äì Dome seeing residuals<br>
‚Äì Low-wind effect<br>
‚Äì Rayleigh scattering<br>
‚Äì Vibrations of post-focal DMs<br>
‚Äì Sodium layer variability<br>
‚Äì WFS spot truncation<br>
‚Äì Calibration/RTC update residuals<br></p>
</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary-table">Summary Table<a href="#summary-table" class="hash-link" aria-label="Direct link to Summary Table" title="Direct link to Summary Table">‚Äã</a></h2><table><thead><tr><th>Domain</th><th>Error term</th><th>Status</th></tr></thead><tbody><tr><td><strong>HO</strong></td><td>Tomography, fitting, noise, aliasing, temporal, chromatic, refraction, cone effects</td><td>‚úÖ Included</td></tr><tr><td><strong>LO</strong></td><td>Windshake/vibrations, LO tomography, Tip-Tilt noise, anisoplanatism</td><td>‚úÖ Included</td></tr><tr><td><strong>Telescope/Instr.</strong></td><td>Static OTF aberrations, pixel sampling</td><td>‚ö†Ô∏è Partial (user-supplied or approximated)</td></tr><tr><td></td><td>Dome seeing, low-wind effect, DM vibrations, sodium profile variations, Rayleigh, calibration terms</td><td>‚ùå Not included</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="detailed-error-source-mapping">Detailed Error Source Mapping<a href="#detailed-error-source-mapping" class="hash-link" aria-label="Direct link to Detailed Error Source Mapping" title="Direct link to Detailed Error Source Mapping">‚Äã</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong> Click to expand detailed error coverage </strong></summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Category</th><th>Error Source</th><th>In TipTop?</th><th>Notes</th></tr></thead><tbody><tr><td><strong>High Orders</strong></td><td>Tomographic error</td><td>‚úÖ Included</td><td>Included in HO spatio-temporal PSD (MMSE / POLC, cone effect).</td></tr><tr><td></td><td>Generalized fitting error</td><td>‚úÖ Included</td><td>Covered by DM fitting PSD (actuator pitch).</td></tr><tr><td></td><td>HF fitting error</td><td>‚ö†Ô∏è Partial</td><td>Absorbed in fitting term, not a separate PSD.</td></tr><tr><td></td><td>Measurement noise error</td><td>‚úÖ Included</td><td>WFS noise propagated through reconstructor + temporal loop</td></tr><tr><td></td><td>Temporal error</td><td>‚úÖ Included</td><td>Servo-lag / bandwidth explicitly modeled.</td></tr><tr><td><strong>Reference Loop</strong></td><td>Correction residual</td><td>‚úÖ Included</td><td>Combination of fitting + temporal + noise + aliasing.</td></tr><tr><td></td><td>Truncation error</td><td>‚ùå Not included</td><td>WFS spot truncation (elongated sodium) not modeled.</td></tr><tr><td></td><td>Sodium Profile Variations</td><td>‚ùå Not included</td><td>Not included; assumes fixed sodium profile.</td></tr><tr><td></td><td>Propagation of atmospheric disturbances</td><td>‚úÖ Included</td><td>Encoded in tomography PSD.</td></tr><tr><td></td><td>Non common field aberrations</td><td>‚ö†Ô∏è Partial</td><td>Can be added via static OTF if user provides maps.</td></tr><tr><td><strong>MORFEO relay</strong></td><td>Design, Manufacturing, Alignment of PFRO</td><td>‚ùå Not included</td><td>Instrument residuals not modeled.</td></tr><tr><td></td><td>Optical effects of air in the PFRO</td><td>‚ùå Not included</td><td>Not included.</td></tr><tr><td></td><td>Fitting error on DM1</td><td>‚úÖ Included</td><td>Included via DM fitting PSD (configurable).</td></tr><tr><td></td><td>Fitting error on DM2</td><td>‚úÖ Included</td><td>Same as above.</td></tr><tr><td></td><td>Vibrations of post focal DMs</td><td>‚ùå Not included</td><td>Not modeled (only telescope windshake).</td></tr><tr><td><strong>Calibration errors</strong></td><td>Actuators / sub-apertures mismatch</td><td>‚ùå Not included</td><td>Not explicitly included.</td></tr><tr><td></td><td>Periodic update of RTC control matrices</td><td>‚ùå Not included</td><td>Not modeled.</td></tr><tr><td><strong>Telescope</strong></td><td>Residual HO Telescope (M1 &amp; M2)</td><td>‚ö†Ô∏è Partial</td><td>Can be included as static OTF (if provided).</td></tr><tr><td></td><td>Telescope dome seeing residual</td><td>‚ùå Not included</td><td>Not included.</td></tr><tr><td></td><td>Low-Wind Effect</td><td>‚ùå Not included</td><td>Not modeled.</td></tr><tr><td></td><td>Telescope Off-Axis aberrations</td><td>‚ö†Ô∏è Partial</td><td>Possible via static OTF if maps supplied.</td></tr><tr><td><strong>Low Orders</strong></td><td>Residual Windshake</td><td>‚úÖ Included</td><td>Modeled in LO kernel via vibration PSD + controller.</td></tr><tr><td></td><td>Tomographic error</td><td>‚úÖ Included</td><td>LO tomography, reduces to Tip-Tilt anisoplanatism if single NGS.</td></tr><tr><td></td><td>Temporal + Measurement noise error</td><td>‚úÖ Included</td><td>Tip-Tilt noise propagated through loop.</td></tr><tr><td><strong>Field average focus</strong></td><td>Temporal + Measurement noise error</td><td>‚ö†Ô∏è Partial</td><td>Focus variations across field not explicitly separated; Not isolated; some contribution in LO error budgets.</td></tr><tr><td></td><td>Anisoplanatism error</td><td>‚úÖ Included</td><td>Covered by LO tomography.</td></tr><tr><td></td><td>Telescope</td><td>‚ö†Ô∏è Partial</td><td>Jitter kernel includes telescope vibration; no dome seeing.</td></tr><tr><td><strong>Other errors</strong></td><td>Atmospheric Chromatism</td><td>‚úÖ Included</td><td>Explicit PSD term in HO.</td></tr><tr><td></td><td>Rayleigh scattering</td><td>‚ùå Not included</td><td>Not modeled.</td></tr><tr><td></td><td>Non-modelled errors</td><td>‚ùå Not included</td><td>By definition.</td></tr><tr><td></td><td>Contingency</td><td>‚ùå Not included</td><td>By definition.</td></tr></tbody></table><p>‚úÖ Included ‚Üí TIPTOP computes it. <br>
‚ö†Ô∏è Partial ‚Üí only if user provides static inputs, or absorbed in another term.<br></p></div></div></details></div></div></details></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/astro-tiptop-services/docs/general/whatcanitbeusedfor"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">What can TipTop be used for?</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/astro-tiptop-services/docs/general/installation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">TipTop Installation Tutorial</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-this-page-is-currently-being-updated" class="table-of-contents__link toc-highlight">üöß This page is currently being updated.</a></li><li><a href="#1-high-order-ho-error-terms--included" class="table-of-contents__link toc-highlight">1. High-Order (HO) Error Terms ‚Äî <strong>Included</strong></a><ul><li><a href="#Ô∏è-fitting-error" class="table-of-contents__link toc-highlight">‚úîÔ∏è <strong>Fitting error</strong></a></li><li><a href="#Ô∏è-aliasing-error" class="table-of-contents__link toc-highlight">‚úîÔ∏è <strong>Aliasing error</strong></a></li><li><a href="#Ô∏è-noise-error" class="table-of-contents__link toc-highlight">‚úîÔ∏è <strong>Noise Error</strong></a></li><li><a href="#Ô∏è-spatio-temporal-error" class="table-of-contents__link toc-highlight">‚úîÔ∏è <strong>Spatio-Temporal error</strong></a></li></ul></li><li><a href="#Ô∏è-chromatisc-error" class="table-of-contents__link toc-highlight">‚úîÔ∏è <strong>Chromatisc error</strong></a><ul><li><a href="#Ô∏è-summary-ho" class="table-of-contents__link toc-highlight">‚úîÔ∏è <strong>Summary (HO)</strong></a></li></ul></li><li><a href="#summary-table" class="table-of-contents__link toc-highlight">Summary Table</a></li><li><a href="#detailed-error-source-mapping" class="table-of-contents__link toc-highlight">Detailed Error Source Mapping</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Tutorials</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/astro-tiptop-services/docs/intro">TipTop Installation Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/astro-tiptop-services/docs/quickstart">TipTop Quickstart Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/astro-tiptop-services/terms">Terms &amp; Conditions</a></li><li class="footer__item"><a class="footer__link-item" href="/astro-tiptop-services/resources/contact">Contact us</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/astro-tiptop/TIPTOP" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://pypi.org/project/astro-tiptop/" target="_blank" rel="noopener noreferrer" class="footer__link-item">PyPi<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 Astro-TipTop-Services. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>