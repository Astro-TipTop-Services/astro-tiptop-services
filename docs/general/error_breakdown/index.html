<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-general/error_breakdown" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">TipTop - Error Terms Coverage | Astro-TipTop Services</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://astro-tiptop-services.github.io/astro-tiptop-services/img/logo_astro_tiptop.png"><meta data-rh="true" name="twitter:image" content="https://astro-tiptop-services.github.io/astro-tiptop-services/img/logo_astro_tiptop.png"><meta data-rh="true" property="og:url" content="https://astro-tiptop-services.github.io/astro-tiptop-services/docs/general/error_breakdown"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="application-name" content="Astro TipTop Services"><meta data-rh="true" name="google-site-verification" content="xup3nZWe_TurfujsJeQWHBoOL5Vm1eEYYxLbfe1uWso"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="TipTop - Error Terms Coverage | Astro-TipTop Services"><meta data-rh="true" name="description" content="TipTop is an analytical AO PSF simulation tool that generates the long-exposure PSF by convolving a High-Order (HO) PSF with a Low-Order (LO) jitter kernel."><meta data-rh="true" property="og:description" content="TipTop is an analytical AO PSF simulation tool that generates the long-exposure PSF by convolving a High-Order (HO) PSF with a Low-Order (LO) jitter kernel."><link data-rh="true" rel="icon" href="/astro-tiptop-services/img/logo_astro-tiptop_cropped.png"><link data-rh="true" rel="canonical" href="https://astro-tiptop-services.github.io/astro-tiptop-services/docs/general/error_breakdown"><link data-rh="true" rel="alternate" href="https://astro-tiptop-services.github.io/astro-tiptop-services/docs/general/error_breakdown" hreflang="en"><link data-rh="true" rel="alternate" href="https://astro-tiptop-services.github.io/astro-tiptop-services/docs/general/error_breakdown" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","@id":"https://astro-tiptop-services.github.io/astro-tiptop-services#org","name":"Astro TipTop Services","alternateName":["Astro TipTop","Astro TipTop Services","Astro-TipTop","TipTop"],"url":"https://astro-tiptop-services.github.io/astro-tiptop-services/","logo":{"@type":"ImageObject","@id":"https://astro-tiptop-services.github.io/astro-tiptop-services#logo","url":"https://astro-tiptop-services.github.io/astro-tiptop-services/img/logo_astro-tiptop_cropped.png","width":256,"height":256},"sameAs":["https://github.com/astro-tiptop/TIPTOP","https://pypi.org/project/astro-tiptop/"]}</script><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","@id":"https://astro-tiptop-services.github.io/astro-tiptop-services#website","url":"https://astro-tiptop-services.github.io/astro-tiptop-services/","name":"Astro TipTop Services","potentialAction":{"@type":"SearchAction","target":"https://astro-tiptop-services.github.io/astro-tiptop-services/?q={search_term_string}","query-input":"required name=search_term_string"}}</script><link rel="alternate" type="application/rss+xml" href="/astro-tiptop-services/blog/rss.xml" title="Astro-TipTop Services RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/astro-tiptop-services/blog/atom.xml" title="Astro-TipTop Services Atom Feed">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-mll67QQEJgVtGqxW9VD7q2GqNzMIk1CjATaF2nUgA7HgS43l+ZFV2DkVKkW0nU3g" crossorigin="anonymous"><link rel="stylesheet" href="/astro-tiptop-services/assets/css/styles.afbc34ce.css">
<script src="/astro-tiptop-services/assets/js/runtime~main.10fabf3b.js" defer="defer"></script>
<script src="/astro-tiptop-services/assets/js/main.8356142b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/astro-tiptop-services/"><div class="navbar__logo"><img src="/astro-tiptop-services/img/logo_astro-tiptop_cropped.png" alt="Astro-TipTop Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="100"><img src="/astro-tiptop-services/img/logo_astro-tiptop_cropped.png" alt="Astro-TipTop Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="100"></div><b class="navbar__title text--truncate">Astro-TipTop Services</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" sidebarid="generalSidebar" href="/astro-tiptop-services/docs/general/whatistiptop">General Documentation</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/astro-tiptop-services/docs/general/whatistiptop">What is TipTop?</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/general/howdoestiptopwork">How does TipTop work?</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/general/whatcanitbeusedfor">What can it be used for?</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/astro-tiptop-services/docs/general/error_breakdown">What is included in TipTop?</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/general/installation">How to install TipTop?</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" sidebarid="tipTopSidebar" href="/astro-tiptop-services/astro_tiptop_modules">Astro-TipTop Features</a><ul class="dropdown__menu"><li><a class="dropdown__link menu-section-header" href="/astro-tiptop-services/docs/orion/overview">TipTop | Core Functionality</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/usage">‚Ä¢ Quickstart</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/howtosetuplaunchfile">‚Ä¢ Set Up a Launch Script for TipTop and Display Results</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/howtosetup">‚Ä¢ Set Up TipTop According to the OA Mode</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/aoinstruments">‚Ä¢ Available AO instruments - Input Files and Corresponding Results </a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/interactivetools">‚Ä¢ Interactive tools - Generate Input Files &amp; Convert Parameters</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/useful_scripts">‚Ä¢ Tutorials &amp; Useful Scripts</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/orion/parameterfiles">‚Ä¢ Parameter files explained</a></li><li><a class="dropdown__link menu-section-header" href="/astro-tiptop-services/docs/aquila/overview">TipTop | Asterism selection</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/aquila/parameterfiles">‚Ä¢ Parameter files - [ASTERISM_SELECTION]</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/aquila/running_selection">‚Ä¢ Running selections</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/aquila/heuristic_models">‚Ä¢ Heuristic models</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/docs/aquila/tuto_ast_select">‚Ä¢ Tutorial - Asterism Selection</a></li><li><a class="dropdown__link menu-section-header" href="/astro-tiptop-services/docs/lyra/overview">TipTop | PSF Fitting / PSF Extrapolation</a></li><li><a class="dropdown__link menu-section-header" href="/astro-tiptop-services/docs/phoenix/overview">TipTop | PSF-R service</a></li></ul></div><a class="navbar__item navbar__link" href="/astro-tiptop-services/blog">News &amp; Updates</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" sidebarid="Resources">Resources</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/astro-tiptop-services/resources/about_us">About us</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/references">Key Publications &amp; References</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/users">Users Area</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/contributors">Contributors Area</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/wishlist">Wish list</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/AO_school">AO school</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/internship_opportunities">Internship Opportunities</a></li><li><a class="dropdown__link" href="/astro-tiptop-services/resources/contact">Contact Support</a></li></ul></div><a class="navbar__item navbar__link" href="/astro-tiptop-services/terms">Terms &amp; Conditions</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/astro-tiptop/TIPTOP" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/astro-tiptop-services/docs/general/whatistiptop">General Documentation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/astro-tiptop-services/docs/general/whatistiptop">What is TipTop?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/astro-tiptop-services/docs/general/howdoestiptopwork">How does TipTop work ?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/astro-tiptop-services/docs/general/whatcanitbeusedfor">What can TipTop be used for?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/astro-tiptop-services/docs/general/error_breakdown">TipTop - Error Terms Coverage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/astro-tiptop-services/docs/general/installation">TipTop Installation Tutorial</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/astro-tiptop-services/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">General Documentation</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">TipTop - Error Terms Coverage</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>TipTop - Error Terms Coverage</h1></header><p align="justify"></p><p><strong>TipTop</strong> is an <strong>analytical AO PSF simulation tool</strong> that generates the long-exposure PSF by convolving a <strong>High-Order (HO) PSF</strong> with a <strong>Low-Order (LO) jitter kernel</strong>. <br>
It covers the main AO error terms that can be expressed as spatio-temporal PSDs, but it does not include all telescope, instrumentation or calibration effects handled by a full end-to-end simulator. <br>
Additional residuals can be introduced manually through the user-defined extra error terms (see the <a href="/astro-tiptop-services/docs/orion/useful_scripts"><em>Understanding Additional Error Terms in TipTop tutorial</em></a>).</p><p></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-ho-error-terms">1. HO Error Terms<a href="#1-ho-error-terms" class="hash-link" aria-label="Direct link to 1. HO Error Terms" title="Direct link to 1. HO Error Terms">‚Äã</a></h2>
<p></p><p>The HO part is computed based on an estimation of the Power
Spectral Density (PSD) of the the AO-corrected residual phase. This PSD is decomposed into several terms, which are assumed to be independent.</p><p></p>
<p align="center"></p><p><img decoding="async" loading="lazy" src="/astro-tiptop-services/assets/images/summary_psd_ho-3ae031727ac996d4873bfa1d80a8efa7.jpg" width="1039" height="354" class="img_ev3q">
<small> Summary of the different PSDs used in the HO part of TIPTOP. The first one is the fitting term, followed by temporal, noise, aliasing, etc. All PSDs are then summed and converted into the HO PSF.</small><br>
<em><small>(<em><a href="https://www.spiedigitallibrary.org/conference-proceedings-of-spie/13097/130972Y/TipTop--toward-a-single-tool-for-all-ELT-instruments/10.1117/12.3015061.full" target="_blank" rel="noopener noreferrer">source: Neichel et al., &quot;TipTop: toward a single tool for all ELT instrument‚Äôs PSF prediction&quot;, Adaptive Optics Systems IX, 2024</a>)</em></small></em></p><p></p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong> üîΩ HO Error Breakdown </strong></summary><div><div class="collapsibleContent_i85q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-fitting-error">‚úîÔ∏è Fitting error<a href="#Ô∏è-fitting-error" class="hash-link" aria-label="Direct link to ‚úîÔ∏è Fitting error" title="Direct link to ‚úîÔ∏è Fitting error">‚Äã</a></h3><p>Uncorrected high-spatial frequencies outside the AO/DM control region, i.e. above the DM cutoff set by the actuator pitch. Depends mainly on the actuator pitch and on the atmospheric seeing (through r0) at the AO reference wavelength, and is only weakly sensitive to the outer scale (L0).</p><p>Implemented in ‚Üí <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L799" target="_blank" rel="noopener noreferrer"><code>fittingPSD()</code></a> <br>
Added to total PSD in ‚Üí <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L650" target="_blank" rel="noopener noreferrer"><code>powerSpectrumDensity()</code></a></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-aliasing-error">‚úîÔ∏è Aliasing error<a href="#Ô∏è-aliasing-error" class="hash-link" aria-label="Direct link to ‚úîÔ∏è Aliasing error" title="Direct link to ‚úîÔ∏è Aliasing error">‚Äã</a></h3><p>High-spatial frequencies that are aliased owing to the WFS spatial sampling. Appears at lower spatial frequencies in the reconstructed phase.
The aliasing PSD is computed using a SCAO formulation and reused for all directions without explicit projection through the tomographic reconstructor or DM projector. This is an approximation, but in practice the PSF shape is weakly sensitive to it.</p><p>Implemented in ‚Üí <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L808" target="_blank" rel="noopener noreferrer"><code>aliasingPSD()</code></a><br>
Added to total PSD in ‚Üí <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L650" target="_blank" rel="noopener noreferrer"><code>powerSpectrumDensity()</code></a></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-noise-error">‚úîÔ∏è Noise Error<a href="#Ô∏è-noise-error" class="hash-link" aria-label="Direct link to ‚úîÔ∏è Noise Error" title="Direct link to ‚úîÔ∏è Noise Error">‚Äã</a></h3><p>Noise introduced by the WFS (detector, shot noise, background) that creates a signal that propagates
through the AO loop and affects the PSF. he model accounts for the (tomographic) wavefront reconstruc-
tion and the AO loop temporal model. <br>
The noise variance is either computed from WFS characteristics or provided directly by the user (<a href="https://astro-tiptop-services.github.io/astro-tiptop-services/docs/orion/parameterfiles#sensor_HO" target="_blank" rel="noopener noreferrer"><code>sensor_HO.NoiseVariance</code> parameter</a>).</p><p>Implemented in ‚Üí <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L909" target="_blank" rel="noopener noreferrer"><code>noisePSD()</code></a></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-spatio-temporal-error">‚úîÔ∏è Spatio-Temporal error<a href="#Ô∏è-spatio-temporal-error" class="hash-link" aria-label="Direct link to ‚úîÔ∏è Spatio-Temporal error" title="Direct link to ‚úîÔ∏è Spatio-Temporal error">‚Äã</a></h3><p>Refers to the spatial error (wavefront reconstruction, tomography, SCAO anisoplanatism, DM projections,
LGS cone effect, MCAO LGS volume loss) that is combined with the temporal error (loop bandwidth, delays)
into a single term.<br>
The user must
define the positions and altitude (for LGSs) of guide stars, as well as the altitude conjugations/actuators
pitch of the DM and the optimization directions. The tomographic error is calculated in the context of
pseudo-open-loop command (POLC) and Minimum Mean Square Reconstruction (MMSE) only.</p><p>All applied inside <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L650" target="_blank" rel="noopener noreferrer"><code>powerSpectrumDensity()</code></a> before summation. <br>
<em><strong>TipTop</strong> does not output a separate ‚Äútomography term‚Äù in HO breakdown (it only exists inside the spatio-temporal PSD).</em></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-chromatic-error">‚úîÔ∏è Chromatic error<a href="#Ô∏è-chromatic-error" class="hash-link" aria-label="Direct link to ‚úîÔ∏è Chromatic error" title="Direct link to ‚úîÔ∏è Chromatic error">‚Äã</a></h3><p><strong>TipTop</strong> considers two PSD terms related to wavelength dependence:</p><ul>
<li>
<p><strong>Chromatism</strong><br>
<!-- -->Models the phase error due to the refractive-index difference between: (1) WFS/GS wavelength, and (2) science PSF wavelength. <br>
Implemented in ‚Üí <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L1128C9-L1128C22" target="_blank" rel="noopener noreferrer"><code>chromatismPSD()</code></a></p>
</li>
<li>
<p><strong>Differential atmospheric refraction</strong><br>
<!-- -->Anisoplanatic-like PSD arising when science and guide stars are observed at different wavelengths and zenith angles. <br>
Implemented in ‚Üí <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L1077" target="_blank" rel="noopener noreferrer"><code>differentialRefractionPSD()</code></a></p>
</li>
</ul><p>Both are added to the HO PSD only when the configuration activates them.</p></div></div></details>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-lo-error-terms">2. LO Error Terms<a href="#2-lo-error-terms" class="hash-link" aria-label="Direct link to 2. LO Error Terms" title="Direct link to 2. LO Error Terms">‚Äã</a></h2>
<p align="justify"></p><p>The LO module follows the method of <a href="https://doi.org/10.1117/12.2313175" target="_blank" rel="noopener noreferrer"><em>Plantet et al. 2018</em></a>.
It computes a <strong>jitter variance</strong>, converts it into a <strong>Gaussian kernel</strong>, and <strong>convolves it with the High-Order PSF</strong> to produce the final PSF delivred to the user. <br>
The residual jitter is considered as the quadratic sum of 3 independent terms: <strong>(1) Windshake and vibrations</strong>, <strong>(2) Tomographic error for multi-NGS or off-axis NGS AO systems</strong> and <strong>(3) Noise propagation</strong>.</p><p></p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong> üîΩ LO Error Breakdown </strong></summary><div><div class="collapsibleContent_i85q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-windshake--vibrations">‚úîÔ∏è Windshake &amp; Vibrations<a href="#Ô∏è-windshake--vibrations" class="hash-link" aria-label="Direct link to ‚úîÔ∏è Windshake &amp; Vibrations" title="Direct link to ‚úîÔ∏è Windshake &amp; Vibrations">‚Äã</a></h3><p align="justify"></p><p><strong>TipTop</strong> can ingest a PSD of tip/tilt disturbances due to wind shake/vibration (see (<a href="https://astro-tiptop-services.github.io/astro-tiptop-services/docs/orion/parameterfiles#telescope" target="_blank" rel="noopener noreferrer"><code>telescope.windPsdFile</code></a> parameter)). These disturbances are filtered by the closed-loop transfer function. <br> If no vibration file is provided, the vibration term is set to zero (Absence of vibration input ‚áí 0 nm residuals).</p><p></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-lo-tomography--anisoplanatism">‚úîÔ∏è LO Tomography / Anisoplanatism<a href="#Ô∏è-lo-tomography--anisoplanatism" class="hash-link" aria-label="Direct link to ‚úîÔ∏è LO Tomography / Anisoplanatism" title="Direct link to ‚úîÔ∏è LO Tomography / Anisoplanatism">‚Äã</a></h3><p align="justify"></p><p>When multiple NGS are used for tip‚Äìtilt sensing, their geometry leads to a tomographic reconstruction error on tip‚Äìtilt modes. This residual corresponds to the difference between the turbulence seen by the NGS and the science target. For a single NGS, the residual jitter becomes the classical anisoplanatism error.</p><p></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-noise-error-1">‚úîÔ∏è Noise error<a href="#Ô∏è-noise-error-1" class="hash-link" aria-label="Direct link to ‚úîÔ∏è Noise error" title="Direct link to ‚úîÔ∏è Noise error">‚Äã</a></h3><p align="justify"></p><p>The noise error corresponds to the propagation of the NGS sensors‚Äô noise (photon noise, detector noise. . . ) through the LO loop.
<strong>TipTop</strong> estimates the noise contribution from each NGS using the actual PSF quality predicted at the NGS location, derived from the HO residuals. The PSF is converted into a slope error using a Gaussian spot model (<a href="https://doi.org/10.1117/12.2313175" target="_blank" rel="noopener noreferrer"><em>Plantet et al. 2018</em></a>), and propagated through an integrator loop, whose gains are automatically optimized.
For a single NGS, this filtered noise is used directly; for multiple NGS, the noise is first propagated through the tomographic reconstructor. <br></p><p></p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-final-jitter-kernel">üü¢ Final Jitter Kernel<a href="#-final-jitter-kernel" class="hash-link" aria-label="Direct link to üü¢ Final Jitter Kernel" title="Direct link to üü¢ Final Jitter Kernel">‚Äã</a></h3><p align="justify"></p><p>After summing windshake, tomographic error, and propagated noise, <strong>TipTop</strong> converts the total Tip-Tilt variance into a Gaussian kernel (circular or elliptical based on the covariance). This kernel is expressed in milliarcseconds (FWHM), and it is <strong>convolved with the HO PSF</strong> (in <a href="https://github.com/astro-tiptop/TIPTOP/blob/d5cceb2d215e81004218b67bca10b6ef87dc8b92/tiptop/baseSimulation.py#L530C5-L530C9" target="_blank" rel="noopener noreferrer"><code>tiptop.baseSimulation.finalConvolution()</code></a>) to produce the <strong>final AO PSF</strong> delivered to the user.</p><p></p></div></div></details>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-tiptop-error-coverage--general-overview">üìä TipTop Error Coverage ‚Äî General Overview<a href="#-tiptop-error-coverage--general-overview" class="hash-link" aria-label="Direct link to üìä TipTop Error Coverage ‚Äî General Overview" title="Direct link to üìä TipTop Error Coverage ‚Äî General Overview">‚Äã</a></h2>
<table><thead><tr><th>Category</th><th>Error Source</th><th>TipTop?</th><th>Notes</th></tr></thead><tbody><tr><td><strong>HO</strong></td><td>DM Fitting</td><td>‚úîÔ∏è</td><td>HF fitting included in same PSD</td></tr><tr><td></td><td>Aliasing</td><td>‚úîÔ∏è Approx.</td><td>SCAO formula reused</td></tr><tr><td></td><td>WFS Noise</td><td>‚úîÔ∏è</td><td>Propagated through reconstructor + controller</td></tr><tr><td></td><td>Spatio-Temporal Reconstruction</td><td>‚úîÔ∏è</td><td>MMSE/POLC + controller filtering</td></tr><tr><td></td><td>Chromatism</td><td>‚úîÔ∏è</td><td>WFS/science Œª refractive index mismatch</td></tr><tr><td></td><td>Differential Refraction</td><td>‚úîÔ∏è</td><td>Wavelength + zenith angle anisoplanatism</td></tr><tr><td></td><td>Cone Effect</td><td>‚úîÔ∏è</td><td>Layer stretching + volume loss PSD</td></tr><tr><td></td><td>LGS cone effect / MCAO volume</td><td>‚úîÔ∏è</td><td>Dedicated PSD</td></tr><tr><td></td><td>Telescope / Instrument Static</td><td>‚öôÔ∏è User</td><td>If user supplies static OTF/OPD maps</td></tr><tr><td></td><td>Extra PSD</td><td>‚öôÔ∏è User</td><td>Via optional <a href="/astro-tiptop-services/docs/orion/useful_scripts"><strong>extra error parameters</strong></a></td></tr><tr><td><strong>LO</strong></td><td>Windshake &amp; vibrations</td><td>‚öôÔ∏è Optional</td><td>Requires PSD file (<a href="/astro-tiptop-services/docs/orion/parameterfiles"><code>telescope.windPsdFile</code></a>)</td></tr><tr><td></td><td>Noise Propagation</td><td>‚úîÔ∏è</td><td>Noise estimated using PSF from HO</td></tr><tr><td></td><td>Tomography</td><td>‚úîÔ∏è</td><td>Reduces to anisoplanatism if single NGS</td></tr><tr><td></td><td>Extra Jitter</td><td>‚öôÔ∏è User</td><td><a href="/astro-tiptop-services/docs/orion/useful_scripts"><code>jitter_FWHM</code></a> manual input in <em>mas</em>, convolved as a kernel</td></tr><tr><td><strong>Not included</strong></td><td>Dome Seeing</td><td>‚ùå</td><td>Not modeled</td></tr><tr><td></td><td>Low-Wind effect</td><td>‚ùå</td><td>Not modeled</td></tr><tr><td></td><td>WFS spot truncation</td><td>‚ùå</td><td>No elongated sodium truncation</td></tr><tr><td></td><td>Sodium profile variability</td><td>‚ùå</td><td>Fixed sodium profile</td></tr><tr><td></td><td>Post-focal DM Vibrations</td><td>‚ùå</td><td>Telescope vibration only</td></tr><tr><td></td><td>Calibration errors (misregistration, RTC updates)</td><td>‚ùå</td><td>No engineering calibration</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-interpreting-the-tiptop-error-breakdown-output">üìå Interpreting the TipTop Error Breakdown Output<a href="#-interpreting-the-tiptop-error-breakdown-output" class="hash-link" aria-label="Direct link to üìå Interpreting the TipTop Error Breakdown Output" title="Direct link to üìå Interpreting the TipTop Error Breakdown Output">‚Äã</a></h3>
<p>When a TipTop simulation finishes, if the key word <a href="/astro-tiptop-services/docs/orion/howtosetuplaunchfile#overallSimulation"><code>getHoErrorBreakDown</code></a> is set to <code>True</code>, the console prints a detailed wavefront error budget.
Each line corresponds to a specific term of the HO or LO model we described earlier.</p>
<p>üß© Meaning of Each Term</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong> üîΩ Expand Table </strong></summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Breakdown Line</th><th>Meaning</th><th>Model Source</th><th>Type</th></tr></thead><tbody><tr><td><strong>Mar√©chal Strehl</strong></td><td>Strehl computed using the Mar√©chal approximation at science Œª</td><td>Uses total WFE</td><td>Output metric</td></tr><tr><td><strong>Residual wavefront error</strong></td><td>Quadratic sum of all HO + LO residuals in nm</td><td>After HO+LO modeling</td><td>Total</td></tr><tr><td><strong>NCPA residual</strong></td><td>Static uncorrected aberration provided by user (<a href="/astro-tiptop-services/docs/orion/useful_scripts"><code>zCoefStaticOn</code></a> or OPD map)</td><td>Added as static OTF/OPD</td><td>Static (user-specified)</td></tr><tr><td><strong>Fitting error</strong></td><td>DM cutoff (uncontrolled HF turbulence)</td><td><a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L799" target="_blank" rel="noopener noreferrer"><code>fittingPSD()</code></a></td><td>HO</td></tr><tr><td><strong>Differential refraction</strong></td><td>Chromatic anisoplanatism (different Œª, zenith angle)</td><td><a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L1077" target="_blank" rel="noopener noreferrer"><code>differentialRefractionPSD()</code></a></td><td>HO</td></tr><tr><td><strong>Chromatic error</strong></td><td>Refractive index mismatch between WFS and science wavelengths</td><td><a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L1128C9-L1128C22" target="_blank" rel="noopener noreferrer"><code>chromatismPSD()</code></a></td><td>HO</td></tr><tr><td><strong>Aliasing error</strong></td><td>High frequencies folded by WFS sampling</td><td><a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L808" target="_blank" rel="noopener noreferrer"><code>aliasingPSD()</code></a> (SCAO approximation)</td><td>HO</td></tr><tr><td><strong>Noise error</strong></td><td>Photon + detector noise propagated through reconstructor + controller</td><td><a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L909" target="_blank" rel="noopener noreferrer"><code>noisePSD()</code></a></td><td>HO</td></tr><tr><td><strong>Spatio-temporal error</strong></td><td>Combined reconstruction + servo filtering (tomography + lag)</td><td>Inside <a href="https://github.com/astro-tiptop/P3/blob/c074643ffa6ddb4b5b2424749a5f10e7d413b6f7/p3/aoSystem/fourierModel.py#L650" target="_blank" rel="noopener noreferrer"><code>powerSpectrumDensity()</code></a></td><td>HO</td></tr><tr><td><strong>Mcao Cone</strong></td><td>MCAO LGS volume loss term</td><td>Automatic in MCAO mode</td><td>HO</td></tr><tr><td><strong>Extra error</strong></td><td>User extra PSD added to HO halo</td><td><a href="/astro-tiptop-services/docs/orion/useful_scripts"><code>extraError*</code></a></td><td>HO (user)</td></tr></tbody></table><table><thead><tr><th>Bottom lines</th><th>Meaning</th><th>Notes</th></tr></thead><tbody><tr><td><strong>Sole servoLag error</strong></td><td>Temporal part ONLY of HO error (ideal infinite reconstructor)</td><td>Helps tune controller</td></tr><tr><td><strong>Sole reconstruction error</strong></td><td>Pure spatial tomography ONLY (no controller effect)</td><td>Useful for reconstructor performance</td></tr><tr><td><strong>Sole tomographic error</strong></td><td>MCAO/NGS/LGS geometry + reconstructor <em>without lag or noise</em></td><td>Matches Plantet et al. ‚Äúpure tomography‚Äù</td></tr></tbody></table><p><em><em>The ‚ÄúSole ‚Ä¶‚Äù diagnostic lines are not added to the total wavefront error. They are isolated components useful for AO tuning and performance analysis.</em></em></p></div></div></details>
<hr>
<p>üöß This page is currently being updated.</p>
<details style="display:none" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-project-specific-coverage-table">üìå Project-Specific Coverage Table<a href="#-project-specific-coverage-table" class="hash-link" aria-label="Direct link to üìå Project-Specific Coverage Table" title="Direct link to üìå Project-Specific Coverage Table">‚Äã</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong> üîΩ Expand Table </strong></summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th>Category</th><th>Error Source</th><th>In TipTop?</th><th>Notes</th></tr></thead><tbody><tr><td><strong>High Orders</strong></td><td>Tomographic error</td><td>‚úÖ</td><td>MMSE/POLC, cone effect, DM projection</td></tr><tr><td></td><td>Generalized fitting error</td><td>‚úÖ</td><td>DM fitting PSD</td></tr><tr><td></td><td>HF fitting error</td><td>‚ö†Ô∏è Partial</td><td>Absorbed in fitting term</td></tr><tr><td></td><td>Measurement noise error</td><td>‚úÖ</td><td>WFS noise PSD + controller filtering</td></tr><tr><td></td><td>Temporal error</td><td>‚úÖ</td><td>Servo-lag / bandwidth in controller</td></tr><tr><td><strong>Reference Loop</strong></td><td>Correction residual</td><td>‚úÖ</td><td>Combination of fitting + temporal + noise + aliasing.</td></tr><tr><td></td><td>Truncation error</td><td>‚ùå</td><td>WFS spot truncation (elongated sodium) not modeled.</td></tr><tr><td></td><td>Sodium Profile Variations</td><td>‚ùå</td><td>Not included; assumes fixed sodium profile.</td></tr><tr><td></td><td>Propagation of atmospheric disturbances</td><td>‚úÖ</td><td>Via tomography model</td></tr><tr><td></td><td>Non common field aberrations</td><td>‚ö†Ô∏è Partial</td><td>Can be added manually via static OTF</td></tr><tr><td><strong>MORFEO relay</strong></td><td>Design, Manufacturing, Alignment of PFRO</td><td>‚ùå</td><td>Instrument-specific</td></tr><tr><td></td><td>Optical effects of air in the PFRO</td><td>‚ùå</td><td>Not included.</td></tr><tr><td></td><td>Fitting error on DM1</td><td>‚úÖ Included</td><td>Treated via actuator pitch</td></tr><tr><td></td><td>Fitting error on DM2</td><td>‚úÖ Included</td><td>Same as above.</td></tr><tr><td></td><td>Vibrations of post focal DMs</td><td>‚ùå Not included</td><td>Not modeled (only telescope windshake).</td></tr><tr><td><strong>Calibration errors</strong></td><td>Actuators / sub-apertures mismatch</td><td>‚ùå Not included</td><td>Not explicitly included.</td></tr><tr><td></td><td>Periodic update of RTC control matrices</td><td>‚ùå Not included</td><td>Not modeled.</td></tr><tr><td><strong>Telescope</strong></td><td>Residual HO Telescope (M1 &amp; M2)</td><td>‚ö†Ô∏è Partial</td><td>Can be included as static OTF (if provided).</td></tr><tr><td></td><td>Telescope dome seeing residual</td><td>‚ùå Not included</td><td>Not included.</td></tr><tr><td></td><td>Low-Wind Effect</td><td>‚ùå Not included</td><td>Not modeled.</td></tr><tr><td></td><td>Telescope Off-Axis aberrations</td><td>‚ö†Ô∏è Partial</td><td>Possible via static OTF if maps supplied.</td></tr><tr><td><strong>Low Orders</strong></td><td>Residual Windshake</td><td>‚úÖ Included</td><td>Modeled in LO kernel via vibration PSD + controller.</td></tr><tr><td></td><td>Tomographic error</td><td>‚úÖ Included</td><td>LO tomography, reduces to Tip-Tilt anisoplanatism if single NGS.</td></tr><tr><td></td><td>Temporal + Measurement noise error</td><td>‚úÖ Included</td><td>Tip-Tilt noise propagated through loop.</td></tr><tr><td><strong>Field average focus</strong></td><td>Temporal + Measurement noise error</td><td>‚ö†Ô∏è Partial</td><td>Focus variations across field not explicitly separated; Not isolated; some contribution in LO error budgets.</td></tr><tr><td></td><td>Anisoplanatism error</td><td>‚úÖ Included</td><td>Covered by LO tomography.</td></tr><tr><td></td><td>Telescope</td><td>‚ö†Ô∏è Partial</td><td>Jitter kernel includes telescope vibration; no dome seeing.</td></tr><tr><td><strong>Other errors</strong></td><td>Atmospheric Chromatism</td><td>‚úÖ Included</td><td>Explicit PSD term in HO.</td></tr><tr><td></td><td>Rayleigh scattering</td><td>‚ùå Not included</td><td>Not modeled.</td></tr><tr><td></td><td>Non-modelled errors</td><td>‚ùå Not included</td><td>By definition.</td></tr><tr><td></td><td>Contingency</td><td>‚ùå Not included</td><td>By definition.</td></tr></tbody></table><p>‚úÖ Included ‚Üí TIPTOP computes it. <br>
‚ö†Ô∏è Partial ‚Üí only if user provides static inputs, or absorbed in another term.<br></p></div></div></details></div></div></details></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/astro-tiptop-services/docs/general/whatcanitbeusedfor"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">What can TipTop be used for?</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/astro-tiptop-services/docs/general/installation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">TipTop Installation Tutorial</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-ho-error-terms" class="table-of-contents__link toc-highlight">1. HO Error Terms</a><ul><li><a href="#Ô∏è-fitting-error" class="table-of-contents__link toc-highlight">‚úîÔ∏è Fitting error</a></li><li><a href="#Ô∏è-aliasing-error" class="table-of-contents__link toc-highlight">‚úîÔ∏è Aliasing error</a></li><li><a href="#Ô∏è-noise-error" class="table-of-contents__link toc-highlight">‚úîÔ∏è Noise Error</a></li><li><a href="#Ô∏è-spatio-temporal-error" class="table-of-contents__link toc-highlight">‚úîÔ∏è Spatio-Temporal error</a></li><li><a href="#Ô∏è-chromatic-error" class="table-of-contents__link toc-highlight">‚úîÔ∏è Chromatic error</a></li></ul></li><li><a href="#2-lo-error-terms" class="table-of-contents__link toc-highlight">2. LO Error Terms</a><ul><li><a href="#Ô∏è-windshake--vibrations" class="table-of-contents__link toc-highlight">‚úîÔ∏è Windshake &amp; Vibrations</a></li><li><a href="#Ô∏è-lo-tomography--anisoplanatism" class="table-of-contents__link toc-highlight">‚úîÔ∏è LO Tomography / Anisoplanatism</a></li><li><a href="#Ô∏è-noise-error-1" class="table-of-contents__link toc-highlight">‚úîÔ∏è Noise error</a></li><li><a href="#-final-jitter-kernel" class="table-of-contents__link toc-highlight">üü¢ Final Jitter Kernel</a></li></ul></li><li><a href="#-tiptop-error-coverage--general-overview" class="table-of-contents__link toc-highlight">üìä TipTop Error Coverage ‚Äî General Overview</a><ul><li><a href="#-interpreting-the-tiptop-error-breakdown-output" class="table-of-contents__link toc-highlight">üìå Interpreting the TipTop Error Breakdown Output</a></li></ul></li><li><a href="#-project-specific-coverage-table" class="table-of-contents__link toc-highlight">üìå Project-Specific Coverage Table</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Tutorials</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/astro-tiptop-services/docs/intro">TipTop Installation Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/astro-tiptop-services/docs/quickstart">TipTop Quickstart Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/astro-tiptop-services/terms">Terms &amp; Conditions</a></li><li class="footer__item"><a class="footer__link-item" href="/astro-tiptop-services/resources/contact">Contact us</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/astro-tiptop/TIPTOP" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://pypi.org/project/astro-tiptop/" target="_blank" rel="noopener noreferrer" class="footer__link-item">PyPi<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 Astro-TipTop-Services. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>